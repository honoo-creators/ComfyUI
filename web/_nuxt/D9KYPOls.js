import{ac as $,ak as o,c as b,a as c,w as i,b as y,o as u,H as E,am as f,an as g,aB as B,ar as S,u as a,ao as x,f as z,e as v,ae as N,l as j,ag as I,s as O,C as A}from"./H8NUP-SF.js";import{_ as D}from"./Bv3HbV3o.js";import"./BiaWHeSQ.js";const U={class:"pageJoin"},P=$({__name:"join",setup(G){const s=o(""),m=o(!1),n=o(""),t=o(""),r=o(!1),p=o(new Date().toISOString()),C=async()=>{m.value=!0,n.value="progress",t.value="";try{const{organization_id:l,organization_name:e}=await N().member.join.organization(s.value);await j().open({name:"joinOrganization",options:{id:l,name:e}})}catch(l){if(n.value="ng",t.value="無効な招待コードです。",!(l instanceof I))return O({statusCode:Number(A.UnknownError),statusMessage:"不明なエラーが発生しました。"})}finally{m.value=!1}},k=()=>{s.value="",n.value="",t.value="",r.value=!1,p.value=new Date().toISOString()};return(l,e)=>{const _=z,w=E,V=y;return u(),b("div",U,[c(V,{narrow:""},{default:i(()=>[c(w,{class:"pageGenerateConfirm",gap:"28"},{default:i(()=>[c(B,{icon:"code",title:"追加するコードをご入力ください"}),(u(),f(D,S({key:a(p),modelValue:a(s),"onUpdate:modelValue":e[0]||(e[0]=d=>x(s)?s.value=d:null)},{status:a(n),message:a(t)},{onValid:e[1]||(e[1]=d=>r.value=!0),onInvalid:e[2]||(e[2]=d=>r.value=!1)}),null,16,["modelValue"])),a(n)!=="ng"?(u(),f(_,{key:0,disabled:!a(r),loading:a(m),onClick:C},{default:i(()=>e[3]||(e[3]=[v(" 送信 ")])),_:1},8,["disabled","loading"])):g("",!0),a(n)==="ng"?(u(),f(_,{key:1,onClick:k},{default:i(()=>e[4]||(e[4]=[v(" クリア ")])),_:1})):g("",!0)]),_:1})]),_:1})])}}});export{P as default};
