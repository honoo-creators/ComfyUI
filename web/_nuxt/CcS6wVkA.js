import{aa as y,af as o,o as l,c as $,a as c,w as u,aq as b,ai as f,am as E,u as e,ah as j,d as g,aj as v,ad as S,j as x,ay as z,s as B,C as N,b as I,F as O,G as A}from"./TvOMxzgX.js";import{_ as D}from"./BHU2vlBo.js";import"./BY1b3FO7.js";const G={class:"pageJoin"},M=y({__name:"join",setup(U){const s=o(""),m=o(!1),n=o(""),t=o(""),r=o(!1),p=o(new Date().toISOString()),C=async()=>{m.value=!0,n.value="progress",t.value="";try{const{organization_id:i,organization_name:a}=await S().member.join.organization(s.value);await x().open({name:"joinOrganization",options:{id:i,name:a}})}catch(i){if(n.value="ng",t.value="無効な招待コードです。",!(i instanceof z))return B({statusCode:Number(N.UnknownError),statusMessage:"不明なエラーが発生しました。"})}finally{m.value=!1}},k=()=>{s.value="",n.value="",t.value="",r.value=!1,p.value=new Date().toISOString()};return(i,a)=>{const _=I,w=O,V=A;return l(),$("div",G,[c(V,{narrow:""},{default:u(()=>[c(w,{class:"pageGenerateConfirm",gap:"28"},{default:u(()=>[c(b,{icon:"code",title:"追加するコードをご入力ください"}),(l(),f(D,E({key:e(p),modelValue:e(s),"onUpdate:modelValue":a[0]||(a[0]=d=>j(s)?s.value=d:null)},{status:e(n),message:e(t)},{onValid:a[1]||(a[1]=d=>r.value=!0),onInvalid:a[2]||(a[2]=d=>r.value=!1)}),null,16,["modelValue"])),e(n)!=="ng"?(l(),f(_,{key:0,disabled:!e(r),loading:e(m),onClick:C},{default:u(()=>a[3]||(a[3]=[g(" 送信 ")])),_:1},8,["disabled","loading"])):v("",!0),e(n)==="ng"?(l(),f(_,{key:1,onClick:k},{default:u(()=>a[4]||(a[4]=[g(" クリア ")])),_:1})):v("",!0)]),_:1})]),_:1})])}}});export{M as default};
