import{ab as I,ak as u,al as d,ae as J,aM as L,aJ as x,ay as S,ac as c,w as v,aL as j,F as V,o as f,a as h,at as k,aK as w,am as C,aq as $,ax as A,J as F,b0 as H}from"./DAyO-fvo.js";import{_ as z}from"./D9NavRAk.js";import{_ as K}from"./DdaboU1k.js";const p=16,Z=I({__name:"InputRange",props:{modelValue:{type:Number,required:!0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},disabled:{type:Boolean,default:!1},controls:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:B}){const{getSize:o}=H(),e=l,b=B,M=u(null),s=u({x:0,y:0}),r=u(0),g=u(0),R=u(0),P=u(0),_=d(()=>({_disabled:e.disabled})),i=d({get:()=>{const a=Math.min(Math.max(e.modelValue,Number(String(e.min))),Number(String(e.max)));return(e.modelValue<Number(String(e.min))||e.modelValue>Number(String(e.max)))&&b("update:modelValue",a),a},set:a=>{b("update:modelValue",a)}}),N=d(()=>(i.value-Number(String(e.min)))/(Number(String(e.max))-Number(String(e.min)))),D=d(()=>{const a=e.controls?22:2,t=e.controls?44:0,m=o((g.value-p)/2+a),n=o((g.value-p)/2+t);return{width:o(p),height:o(p),top:m,left:n}}),q=()=>{const a=s.value.x/r.value*(Number(String(e.max))-Number(String(e.min)));i.value=a+Number(String(e.min)),s.value.x=Math.min(Math.max(s.value.x,0),r.value)},E=a=>{r.value=a.width,R.value=a.top,P.value=a.left,y()},y=()=>{s.value.x=N.value*r.value};return J(async()=>{await L(),x(()=>s.value,q,{deep:!0}),x(()=>i.value,y,{immediate:!0})}),(a,t)=>{const m=A("resize");return S((f(),c(V,{class:j(["inputRange",_.value])},{default:v(()=>[h(K,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=n=>s.value=n),class:"inputRange-handle",style:w(D.value),"disabled-y":""},{default:v(()=>t[3]||(t[3]=[k("div",{class:"inputRange-handle-inner"},null,-1)])),_:1},8,["modelValue","style"]),h(F,{justify:"center",align:"center",nowrap:""},{default:v(()=>[l.controls?(f(),c(z,$({key:0,icon:{name:"minus"},link:"",medium:""},{disabled:l.disabled},{onClick:t[1]||(t[1]=n=>i.value-=Number(l.step))}),null,16)):C("",!0),S((f(),c(V,{class:"inputRange-slider"},{default:v(()=>[k("div",{class:"inputRange-slider-bar",style:w({transform:`scaleX(${N.value})`})},null,4)]),_:1})),[[m,n=>E(n)]]),l.controls?(f(),c(z,$({key:1,icon:{name:"plus"},link:"",medium:""},{disabled:l.disabled},{onClick:t[2]||(t[2]=n=>i.value+=Number(l.step))}),null,16)):C("",!0)]),_:1})]),_:1},8,["class"])),[[m,n=>M.value=n]])}}});export{Z as default};
