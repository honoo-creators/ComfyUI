import{d as L,e as J,b as ye,i as X,j as we,r as v,k as l,P as Z,g as o,p as i,w as a,Q as k,h as s,l as e,f as T,ag as K,t as d,N as Q,G as $,q as O,H as ee,ac as Ee,v as Se,c as g,az as Y,aA as Re,aB as $e,aa as Te,A as Ne,K as Ae,D as Ce,_ as te,B as Ie,aC as We,aD as Le,z as ae,F as ne,E as Me,aE as Pe,m as se,L as Be,ab as Ge,$ as q,u as re,aF as Oe,I as ze,x as De}from"./DRtnay5Q.js";import{_ as xe}from"./Bka4xi7B.js";import{_ as C}from"./CWyfg425.js";import{_ as Ue}from"./BvUwoWwT.js";import{_ as je}from"./9ndsW997.js";import{_ as G}from"./D5FXmLHB.js";import"./m2fR89IK.js";import"./BaStOyk_.js";const Ve={key:0,class:"headerWide-inner-centerLeftUI"},He={class:"headerWide-inner-center"},Fe={key:0,class:"headerWide-inner-centerRightUI"},I=110,Ke=L({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(R){const{isPureNumber:m}=Pe(),{replace:f,go:_}=J(),{DEV:y,dashboard:p}=g(),{loggedIn:r}=ye(),{face:h}=X(we()),t=R,c=v(0),z=v(0),M=v(0),P=v(0),N=v(0),W=v(0),A=v(0),oe=v(0),ie=l(()=>N.value>0),le=l(()=>{const b=I*2+Number(Y().getVariable("maxWidth","wide"))-480;return Re().width.value<=b}),ce=l(()=>`calc(100% - ${Y().getSize(W.value+(A.value||N.value))})`),D=l(()=>{let n="";return!U.value&&t.back?n="back":n="logo",n}),ue=l(()=>{const n=[];return t.back||t.avatar&&n.push("avatar"),n}),x=l(()=>{let n="";return t.title?n="title":t.back||t.globalMenu&&(n="globalMenu"),n}),U=l(()=>{let n="";return t.back&&(n="back"),n}),j=l(()=>{let n="";return ie.value?n="button":t.menu?n="menu":t.close&&(n="close"),n}),de=l(()=>{let n="";return m(String(t.back))?parseInt(String(t.back))>0&&(n="go"):String(t.back)&&(n="replace"),n}),fe=l(()=>{let n="";return m(String(t.close))?parseInt(String(t.close))>0&&(n="go"):String(t.close)&&(n="replace"),n}),_e=()=>{if($e().isPrevRoute)switch(de.value){case"go":_(-1*parseInt(String(t.back)));break;case"replace":f(String(t.back));break}else f(p())},me=()=>{switch(fe.value){case"go":_(-1*parseInt(String(t.close)));break;case"replace":f(String(t.close));break}},V=()=>{typeof t.menu=="function"?t.menu():Te().open({name:"myMenu",from:"right"})};return(n,b)=>{const pe=xe,ge=Ne,he=Ae,be=Ce,w=te,E=Ie,B=We,H=Le,ke=ae,F=ne,ve=Me,S=Z("resize");return o(),i(E,{tag:"header",class:Se(["headerWide",{_background:R.background}]),align:"center",nowrap:""},{default:a(()=>[k((o(),i(F,{class:"headerWide-inner",wide:""},{default:a(()=>[s(E,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[k((o(),i(w,{w:I,"min-w":I,mr:"auto"},{default:a(()=>[e(D)?(o(),T(Q,{key:0},[e(D)==="logo"?(o(),i(E,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[s(ge,{to:e(p)()},{default:a(()=>[s(pe,{size:"32"})]),_:1},8,["to"]),s(w,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in n?n.useRuntimeConfig:e(K))().public.DEV_ENABLED&&("useRuntimeConfig"in n?n.useRuntimeConfig:e(K))().public.ENVIRONMENT==="local"?(o(),i(be,{key:0,to:e(y),secondary:"",w:"20",h:"20"},{default:a(()=>[s(he,{name:"setting",size:"12",color:"light"})]),_:1},8,["to"])):d("",!0)]),_:1})]),_:1})):d("",!0)],64)):d("",!0)]),_:1})),[[S,u=>c.value=u.width]]),k((o(),i(w,{w:e(le)?"60%":"100%",h:"100%"},{default:a(()=>[s(F,{fit:""},{default:a(()=>[s(w,{w:"100%",h:"100%",relative:""},{default:a(()=>[s(H,{x:"40"},{default:a(()=>[e(U)==="back"?(o(),T("div",Ve,[k(s(B,{icon:"arrowLeft",size:"22",onClick:_e},null,512),[[S,u=>W.value=u.width]])])):d("",!0)]),_:1}),k((o(),i(w,{class:"headerWide-inner-centerLeftInfo","max-w":e(ce),h:"100%"},{default:a(()=>[s(E,{align:"center",nowrap:"",fit:""},{default:a(()=>b[0]||(b[0]=[$("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[S,u=>P.value=u.width]]),$("div",He,[e(x)==="title"?(o(),i(E,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[s(ke,{caption1:"",bold:"",center:""},{default:a(()=>[O(ee(t.title),1)]),_:1})]),_:1})):d("",!0),s(w,{h:e(x)?"0":"100%"},{default:a(()=>[s(E,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>b[1]||(b[1]=[$("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),s(H,{x:"40"},{default:a(()=>[e(j)==="menu"?(o(),T("div",Fe,[k(s(B,{icon:"menu",size:"22",onClick:V},null,512),[[S,u=>A.value=u.width+(R.menuNotice?16:0)]]),R.menuNotice?(o(),i(w,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):d("",!0)])):d("",!0),e(j)==="close"?k((o(),i(B,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:me},null,512)),[[S,u=>A.value=u.width]]):d("",!0)]),_:1}),k((o(),i(w,{class:"headerWide-centerRight"},{default:a(()=>[s(E,{justify:"end",align:"center",fit:""},{default:a(()=>b[2]||(b[2]=[$("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[S,u=>N.value=u.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[S,u=>z.value=u.width]]),k((o(),i(w,{w:I,"min-w":I,ml:"auto"},{default:a(()=>[s(E,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[s(E,{justify:"end",align:"center",fit:""},{default:a(()=>b[3]||(b[3]=[$("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),e(ue).includes("avatar")?(o(),T(Q,{key:0},[e(r)?(o(),i(Ee,{key:0,onClick:V},{default:a(()=>[s(ve,{src:e(h),size:"28"},null,8,["src"])]),_:1})):d("",!0)],64)):d("",!0)]),_:1})]),_:1})),[[S,u=>M.value=u.width]])]),_:1})]),_:1})),[[S,u=>oe.value=u.width]])]),_:1},8,["class"])}}}),Qe={class:"lookStyleSetting"},Ye={class:"lookStyleSetting-image"},qe={class:"lookStyleSetting-name"},Je=L({__name:"LookStyleSetting",props:{fit:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup(R){const m=R,f=l(()=>m.data.name),_=l(()=>m.data.id);return(y,p)=>{const r=ae,h=Be;return o(),T("div",Qe,[s(r,{class:"lookStyleSetting-label",footnote:"",bold:"",unselectable:"",color:"light"},{default:a(()=>p[0]||(p[0]=[O(" ルックスタイル ")])),_:1}),$("div",Ye,[s(Ue,se({id:e(_)},{cover:""}),null,16)]),$("div",qe,[s(h,null,{default:a(()=>[s(r,{title3:"",extrabold:"",center:"",unselectable:"","line-height":"1",color:"light"},{default:a(()=>[O(ee(e(f)),1)]),_:1})]),_:1})])])}}}),Xe={class:"generateSettingList"},Ze=L({__name:"GenerateSettingList",setup(R){const{lookStyle:m,base64:f,promptScene:_,promptMood:y,promptLighting:p}=X(Ge()),r=v(0);return q(()=>r.value,h=>{let t="";switch(h){case 0:t=g().GENERATE_LOOKSTYLE;break;case 1:t=g().GENERATE_UPLOAD;break;case 2:t=g().GENERATE_PROMPT_SCENE;break;case 3:t=g().GENERATE_PROMPT_MOOD;break;case 4:t=g().GENERATE_PROMPT_LIGHTING;break}J().push(t)}),q(()=>re().path,h=>{switch(h){case g().GENERATE_LOOKSTYLE:r.value=0;break;case g().GENERATE_UPLOAD:r.value=1;break;case g().GENERATE_PROMPT_SCENE:r.value=2;break;case g().GENERATE_PROMPT_MOOD:r.value=3;break;case g().GENERATE_PROMPT_LIGHTING:r.value=4;break}}),(h,t)=>(o(),T("div",Xe,[s(C,{name:"ルックスタイル",icon:{name:"paintBrush",size:24},current:e(r)===0,"is-set":e(m)!==null,onClick:t[0]||(t[0]=c=>r.value=0)},{default:a(()=>[e(m)!==null?(o(),i(Je,{key:0,data:e(m),fit:""},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set"]),s(C,{name:"原図データ",icon:"photograph",current:e(r)===1,"is-set":e(f)!=="",disabled:!e(m),onClick:t[1]||(t[1]=c=>r.value=1)},{default:a(()=>[e(f)!==""?(o(),i(je,{key:0,data:e(f),fit:""},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"]),s(C,{name:"シーン構成",icon:"edit",current:e(r)===2,"is-set":Array.isArray(e(_)),disabled:!e(f),onClick:t[2]||(t[2]=c=>r.value=2)},{default:a(()=>[Array.isArray(e(_))?(o(),i(G,{key:0,name:"シーン構成",data:e(_)},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"]),s(C,{name:"色調・ムード",icon:"edit",current:e(r)===3,"is-set":Array.isArray(e(y)),disabled:e(_)===null,onClick:t[3]||(t[3]=c=>r.value=3)},{default:a(()=>[Array.isArray(e(y))?(o(),i(G,{key:0,name:"色調・ムード",data:e(y)},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"]),s(C,{name:"ライティング",icon:"edit",current:e(r)===4,"is-set":Array.isArray(e(p)),disabled:e(y)===null,onClick:t[4]||(t[4]=c=>r.value=4)},{default:a(()=>[Array.isArray(e(p))?(o(),i(G,{key:0,name:"ライティング",data:e(p)},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"])]))}}),et={class:"layoutDefault"},ct=L({__name:"default",setup(R){const{isScreenSizeAbove:m}=De(),f=v(0),_=l(()=>re().meta.page),y=l(()=>{var c;return((c=_.value)==null?void 0:c.type)||""}),p=l(()=>{var c;return((c=_.value)==null?void 0:c.isGenerateSetting)||!1}),r=l(()=>{var c;return((c=_.value)==null?void 0:c.header)||{}}),h=l(()=>r.value.title||r.value.back||r.value.close||r.value.logo||r.value.menu),t=l(()=>f.value+40);return(c,z)=>{const M=ne,P=te,N=Oe,W=Z("resize");return o(),T("div",et,[k((o(),i(P,{class:"layoutDefault-header",pb:"12"},{default:a(()=>[e(h)?(o(),i(Ke,se({key:0},e(r),{background:!1}),null,16)):d("",!0),e(p)?(o(),i(M,{key:1,wide:"","no-padding":e(m)("l")},{default:a(()=>[s(Ze)]),_:1},8,["no-padding"])):d("",!0)]),_:1})),[[W,A=>f.value=A.height]]),s(N,{class:"layoutDefault-page","top-space":e(t),center:e(y)==="center","bottom-space":"80"},{default:a(()=>[ze(c.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{ct as default};
