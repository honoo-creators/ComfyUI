import{d as $,x as o,f as l,g as y,z as f,w as u,i as c,m as E,Y as a,Z as b,A as g,l as v,a as x,a0 as z,am as S,s as B,C as N,a2 as j,U as A,V as I}from"./CNmnPXM6.js";import{_ as O}from"./BbD6czVn.js";import{_ as U}from"./BX-ki0kN.js";import"./DH5ug6NU.js";const D={class:"pageJoin"},T=$({__name:"join",setup(G){const s=o(""),m=o(!1),n=o(""),t=o(""),r=o(!1),p=o(new Date().toISOString()),C=async()=>{m.value=!0,n.value="progress",t.value="";try{const{organization_id:i,organization_name:e}=await x().member.join.organization(s.value);await z().open({name:"joinOrganization",options:{id:i,name:e}})}catch(i){if(n.value="ng",t.value="無効な招待コードです。",!(i instanceof S))return B({statusCode:Number(N.UnknownError),statusMessage:"不明なエラーが発生しました。"})}finally{m.value=!1}},k=()=>{s.value="",n.value="",t.value="",r.value=!1,p.value=new Date().toISOString()};return(i,e)=>{const _=j,w=A,V=I;return l(),y("div",D,[f(V,{narrow:""},{default:u(()=>[f(w,{class:"pageGenerateConfirm",gap:"28"},{default:u(()=>[f(O,{icon:"code",title:"追加するコードをご入力ください"}),(l(),c(U,E({key:a(p),modelValue:a(s),"onUpdate:modelValue":e[0]||(e[0]=d=>b(s)?s.value=d:null)},{status:a(n),message:a(t)},{onValid:e[1]||(e[1]=d=>r.value=!0),onInvalid:e[2]||(e[2]=d=>r.value=!1)}),null,16,["modelValue"])),a(n)!=="ng"?(l(),c(_,{key:0,disabled:!a(r),loading:a(m),onClick:C},{default:u(()=>e[3]||(e[3]=[g(" 送信 ")])),_:1},8,["disabled","loading"])):v("",!0),a(n)==="ng"?(l(),c(_,{key:1,onClick:k},{default:u(()=>e[4]||(e[4]=[g(" クリア ")])),_:1})):v("",!0)]),_:1})]),_:1})])}}});export{T as default};
