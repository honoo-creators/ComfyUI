import{ab as P,m as B,au as v,ag as g,ah as p,ac as N,bd as V,aR as F,p as D,c as U,ai as i,u as s,w as t,az as _,G as X,o,a,F as j,aj as h,t as z,j as S,av as M,b as x,l as d,d as k,a5 as J,E as K,al as Y,v as q,af as H,B as Q}from"./C9XhVZL0.js";const W={class:"pageDashboard"},ae=P({__name:"dashboard",setup(Z){const{list:E,active:l}=B(v()),u=g(!1),c=g(!1),m=p(()=>{var e;return((e=l.value)==null?void 0:e.type)==="personal"}),T=p(()=>E.value.some(e=>e.type==="enterprise")),$=p(()=>!T.value&&c.value),R=async()=>{await S().open({name:"message",options:{icon:"building",title:"生成可能プラン",content:"エンタープライズプランのみ<br />ご利用いただけます。",buttonName:"プランを詳しくみる"}})&&H().push(d().ROOT+"#enterprise-plan")},y=()=>{localStorage.setItem(`${_().public.LOCAL_STORAGE_PREFIX}-enterprise-code-input-visible`,"false"),f()},f=()=>{const e=localStorage.getItem(`${_().public.LOCAL_STORAGE_PREFIX}-enterprise-code-input-visible`);e===null?(localStorage.setItem(`${_().public.LOCAL_STORAGE_PREFIX}-enterprise-code-input-visible`,"true"),c.value=!0):c.value=e==="true"};return N(async()=>{u.value=!0,await V().profileUpdate(),await F(),D().init(),await v().init(),f(),u.value=!1}),(e,n)=>{const C=z,b=x,I=j,r=K,O=q,w=Y,A=J,G=X,L=Q;return o(),U("div",W,[s(u)?(o(),i(L,{key:1})):(o(),i(G,{key:0,narrow:""},{default:t(()=>[a(I,{gap:"28"},{default:t(()=>[s(l)?(o(),i(C,{key:0,onClick:n[0]||(n[0]=ee=>("useSheet"in e?e.useSheet:s(S))().open({name:"usageTypeSelect"}))},{default:t(()=>[a(M,{data:s(l)},null,8,["data"])]),_:1})):h("",!0),a(b,{disabled:s(m),to:s(m)?"":("useConstantsPath"in e?e.useConstantsPath:s(d))().GENERATE_LOOKSTYLE,onDisabledClick:R},{default:t(()=>n[1]||(n[1]=[k(" 背景美術生成を開始する ")])),_:1},8,["disabled","to"])]),_:1}),a(A,null,{default:t(()=>[s($)?(o(),i(r,{key:0,relative:""},{default:t(()=>[a(r,{h:"20"}),a(b,{info:"",small:"",to:("useConstantsPath"in e?e.useConstantsPath:s(d))().JOIN},{default:t(()=>n[2]||(n[2]=[k(" エンタープライズコードをお持ちの方はこちら ")])),_:1},8,["to"]),a(r,{absolute:"",top:"20",bottom:"0",right:"20"},{default:t(()=>[a(w,null,{default:t(()=>[a(C,{onClick:y},{default:t(()=>[a(O,{name:"cross",size:"12",color:"text-030"})]),_:1})]),_:1})]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1}))])}}});export{ae as default};
