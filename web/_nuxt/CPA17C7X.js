import{_ as r}from"./-6sWPGkG.js";import{d as i,c as u,o as c,b as s,e as o,a as l,aA as p,aj as f,C as a,ai as d,s as _,f as m,g,h,i as C,j as w}from"./CvNwVGvF.js";const E={class:"pageLogout"},k=i({__name:"logout",setup(O){const t=u(()=>w().design.page.spinner.size);return c(async()=>{if(!s().loggedIn.value){location.href=o().ROOT;return}try{await l().auth.logout(),await s().logout(),await p().wait(500),location.href=o().ROOT}catch(e){if(e instanceof f)e.code===a.AuthorizationRequired?location.href=o().ROOT:await d().error(e);else return _({statusCode:Number(a.UnknownError),statusMessage:"ログアウトに失敗しました。"})}}),(e,z)=>{const n=r;return m(),g("div",E,[h(n,{size:C(t)},null,8,["size"])])}}});export{k as default};
