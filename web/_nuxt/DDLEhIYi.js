import{d as W,e as te,b as Re,i as ae,j as $e,r as S,k as i,Q as ne,g as r,p as l,w as a,R as k,h as s,l as e,f as $,ah as q,t as c,N as J,G as T,q as M,H as z,ad as se,c as h,aw as X,ax as Te,ay as Ne,ab as Ae,A as Ce,K as Ie,D as We,_ as re,B as Le,az as Me,aA as Be,z as D,F as oe,E as Pe,aB as Ge,a9 as Z,I as le,m as x,L as ie,ac as Oe,a0 as ee,u as ce,aC as ze,ak as De,x as xe}from"./CdXuvUie.js";import{_ as Ue}from"./CnNlR6Op.js";import{_ as je}from"./BVt7Gq0p.js";import{_ as Ve,a as O}from"./DXSLQyai.js";import"./BIPvdjWP.js";import"./C-D94Ift.js";import"./BFZc-Vuz.js";const He={key:0,class:"headerWide-inner-centerLeftUI"},Fe={class:"headerWide-inner-center"},Ke={key:0,class:"headerWide-inner-centerRightUI"},C=110,Qe=W({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(p){const{isPureNumber:_}=Ge(),{replace:m,go:u}=te(),{DEV:y,dashboard:g}=h(),{loggedIn:o}=Re(),{face:b}=ae($e()),t=p,d=S(0),U=S(0),B=S(0),P=S(0),N=S(0),L=S(0),A=S(0),ue=S(0),de=i(()=>N.value>0),fe=i(()=>{const v=C*2+Number(X().getVariable("maxWidth","wide"))-480;return Te().width.value<=v}),_e=i(()=>`calc(100% - ${X().getSize(L.value+(A.value||N.value))})`),j=i(()=>{let n="";return!H.value&&t.back?n="back":n="logo",n}),me=i(()=>{const n=[];return t.back||t.avatar&&n.push("avatar"),n}),V=i(()=>{let n="";return t.title?n="title":t.back||t.globalMenu&&(n="globalMenu"),n}),H=i(()=>{let n="";return t.back&&(n="back"),n}),F=i(()=>{let n="";return de.value?n="button":t.menu?n="menu":t.close&&(n="close"),n}),pe=i(()=>{let n="";return _(String(t.back))?parseInt(String(t.back))>0&&(n="go"):String(t.back)&&(n="replace"),n}),ge=i(()=>{let n="";return _(String(t.close))?parseInt(String(t.close))>0&&(n="go"):String(t.close)&&(n="replace"),n}),he=()=>{if(Ne().isPrevRoute)switch(pe.value){case"go":u(-1*parseInt(String(t.back)));break;case"replace":m(String(t.back));break}else m(g())},ye=()=>{switch(ge.value){case"go":u(-1*parseInt(String(t.close)));break;case"replace":m(String(t.close));break}},K=()=>{typeof t.menu=="function"?t.menu():Ae().open({name:"myMenu",from:"right"})};return(n,v)=>{const be=Ue,ve=Ce,ke=Ie,Se=We,w=re,E=Le,G=Me,Q=Be,we=D,Y=oe,Ee=Pe,R=ne("resize");return r(),l(E,{tag:"header",class:"headerWide",align:"center",nowrap:""},{default:a(()=>[k((r(),l(Y,{class:"headerWide-inner",wide:""},{default:a(()=>[s(E,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[k((r(),l(w,{w:C,"min-w":C,mr:"auto"},{default:a(()=>[e(j)?(r(),$(J,{key:0},[e(j)==="logo"?(r(),l(E,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[s(ve,{to:e(g)()},{default:a(()=>[s(be,{size:"32"})]),_:1},8,["to"]),s(w,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in n?n.useRuntimeConfig:e(q))().public.DEV_ENABLED&&("useRuntimeConfig"in n?n.useRuntimeConfig:e(q))().public.ENVIRONMENT==="local"?(r(),l(Se,{key:0,to:e(y),secondary:"",w:"20",h:"20"},{default:a(()=>[s(ke,{name:"setting",size:"12",color:"light"})]),_:1},8,["to"])):c("",!0)]),_:1})]),_:1})):c("",!0)],64)):c("",!0)]),_:1})),[[R,f=>d.value=f.width]]),k((r(),l(w,{w:e(fe)?"60%":"100%",h:"100%"},{default:a(()=>[s(Y,{fit:""},{default:a(()=>[s(w,{w:"100%",h:"100%",relative:""},{default:a(()=>[s(Q,{x:"40"},{default:a(()=>[e(H)==="back"?(r(),$("div",He,[k(s(G,{icon:"arrowLeft",size:"22",onClick:he},null,512),[[R,f=>L.value=f.width]])])):c("",!0)]),_:1}),k((r(),l(w,{class:"headerWide-inner-centerLeftInfo","max-w":e(_e),h:"100%"},{default:a(()=>[s(E,{align:"center",nowrap:"",fit:""},{default:a(()=>v[0]||(v[0]=[T("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[R,f=>P.value=f.width]]),T("div",Fe,[e(V)==="title"?(r(),l(E,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[s(we,{caption1:"",bold:"",center:""},{default:a(()=>[M(z(t.title),1)]),_:1})]),_:1})):c("",!0),s(w,{h:e(V)?"0":"100%"},{default:a(()=>[s(E,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>v[1]||(v[1]=[T("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),s(Q,{x:"40"},{default:a(()=>[e(F)==="menu"?(r(),$("div",Ke,[k(s(G,{icon:"menu",size:"22",onClick:K},null,512),[[R,f=>A.value=f.width+(p.menuNotice?16:0)]]),p.menuNotice?(r(),l(w,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):c("",!0)])):c("",!0),e(F)==="close"?k((r(),l(G,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:ye},null,512)),[[R,f=>A.value=f.width]]):c("",!0)]),_:1}),k((r(),l(w,{class:"headerWide-centerRight"},{default:a(()=>[s(E,{justify:"end",align:"center",fit:""},{default:a(()=>v[2]||(v[2]=[T("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[R,f=>N.value=f.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[R,f=>U.value=f.width]]),k((r(),l(w,{w:C,"min-w":C,ml:"auto"},{default:a(()=>[s(E,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[s(E,{justify:"end",align:"center",fit:""},{default:a(()=>v[3]||(v[3]=[T("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),e(me).includes("avatar")?(r(),$(J,{key:0},[e(o)?(r(),l(se,{key:0,onClick:K},{default:a(()=>[s(Ee,{src:e(b),size:"28"},null,8,["src"])]),_:1})):c("",!0)],64)):c("",!0)]),_:1})]),_:1})),[[R,f=>B.value=f.width]])]),_:1})]),_:1})),[[R,f=>ue.value=f.width]])]),_:1})}}}),Ye={key:1,class:"generateSettingItem-content"},I=W({__name:"GenerateSettingItem",props:{name:{type:String,default:""},current:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isSet:{type:Boolean,default:!1}},setup(p){const _=p,m=i(()=>({_current:_.current,_hasSlot:_.isSet&&Z().default}));return(u,y)=>{const g=D,o=ie;return r(),l(se,x({class:["generateSettingItem",e(m)]},{disabled:p.disabled}),{default:a(()=>[p.isSet?c("",!0):(r(),l(o,{key:0},{default:a(()=>[s(g,{subheadline:"",bold:"",center:"",unselectable:""},{default:a(()=>[M(z(p.name),1)]),_:1})]),_:1})),p.isSet&&("useSlots"in u?u.useSlots:e(Z))().default?(r(),$("div",Ye,[le(u.$slots,"default")])):c("",!0)]),_:3},16,["class"])}}}),qe={class:"lookStyleSetting"},Je={class:"lookStyleSetting-image"},Xe={class:"lookStyleSetting-name"},Ze=W({__name:"LookStyleSetting",props:{fit:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup(p){const _=p,m=i(()=>_.data.name),u=i(()=>_.data.id);return(y,g)=>{const o=D,b=ie;return r(),$("div",qe,[s(o,{class:"lookStyleSetting-label",caption3:"",bold:"",unselectable:"",color:"light"},{default:a(()=>g[0]||(g[0]=[M(" 背景美術スタイル ")])),_:1}),T("div",Je,[s(je,x({id:e(u)},{cover:""}),null,16)]),T("div",Xe,[s(b,null,{default:a(()=>[s(o,{title3:"",extrabold:"",center:"",unselectable:"","line-height":"1",color:"light"},{default:a(()=>[M(z(e(m)),1)]),_:1})]),_:1})])])}}}),et={class:"generateSettingList"},tt=W({__name:"GenerateSettingList",setup(p){const{lookStyle:_,base64:m,promptScene:u,promptMood:y,promptLighting:g}=ae(Oe()),o=S(0);return ee(()=>o.value,b=>{let t="";switch(b){case 0:t=h().GENERATE_LOOKSTYLE;break;case 1:t=h().GENERATE_UPLOAD;break;case 2:t=h().GENERATE_PROMPT_SCENE;break;case 3:t=h().GENERATE_PROMPT_MOOD;break;case 4:t=h().GENERATE_PROMPT_LIGHTING;break}te().push(t)}),ee(()=>ce().path,b=>{switch(b){case h().GENERATE_LOOKSTYLE:o.value=0;break;case h().GENERATE_UPLOAD:o.value=1;break;case h().GENERATE_PROMPT_SCENE:o.value=2;break;case h().GENERATE_PROMPT_MOOD:o.value=3;break;case h().GENERATE_PROMPT_LIGHTING:o.value=4;break}}),(b,t)=>(r(),$("div",et,[s(I,{name:"背景美術スタイル",current:e(o)===0,"is-set":e(_)!==null,onClick:t[0]||(t[0]=d=>o.value=0)},{default:a(()=>[e(_)!==null?(r(),l(Ze,{key:0,data:e(_),fit:""},null,8,["data"])):c("",!0)]),_:1},8,["current","is-set"]),s(I,{name:"原図データ",current:e(o)===1,"is-set":e(m)!=="",disabled:!e(_),onClick:t[1]||(t[1]=d=>o.value=1)},{default:a(()=>[e(m)!==""?(r(),l(Ve,{key:0,data:e(m),fit:""},null,8,["data"])):c("",!0)]),_:1},8,["current","is-set","disabled"]),s(I,{name:"シーン構成",current:e(o)===2,"is-set":Array.isArray(e(u)),disabled:!e(m),onClick:t[2]||(t[2]=d=>o.value=2)},{default:a(()=>[Array.isArray(e(u))?(r(),l(O,{key:0,name:"シーン構成",data:e(u)},null,8,["data"])):c("",!0)]),_:1},8,["current","is-set","disabled"]),s(I,{name:"色調・ムード",current:e(o)===3,"is-set":Array.isArray(e(y)),disabled:e(u)===null,onClick:t[3]||(t[3]=d=>o.value=3)},{default:a(()=>[Array.isArray(e(y))?(r(),l(O,{key:0,name:"色調・ムード",data:e(y)},null,8,["data"])):c("",!0)]),_:1},8,["current","is-set","disabled"]),s(I,{name:"ライティング",current:e(o)===4,"is-set":Array.isArray(e(g)),disabled:e(y)===null,onClick:t[4]||(t[4]=d=>o.value=4)},{default:a(()=>[Array.isArray(e(g))?(r(),l(O,{key:0,name:"ライティング",data:e(g)},null,8,["data"])):c("",!0)]),_:1},8,["current","is-set","disabled"])]))}}),at={class:"layoutDefault"},ut=W({__name:"default",setup(p){const{isScreenSizeAbove:_}=xe(),m=S(0),u=i(()=>ce().meta.page),y=i(()=>{var d;return((d=u.value)==null?void 0:d.type)||""}),g=i(()=>{var d;return((d=u.value)==null?void 0:d.isGenerateSetting)||!1}),o=i(()=>{var d;return((d=u.value)==null?void 0:d.header)||{}}),b=i(()=>o.value.title||o.value.back||o.value.close||o.value.logo||o.value.menu),t=i(()=>m.value+40);return(d,U)=>{const B=oe,P=re,N=ze,L=ne("resize");return r(),$("div",at,[k((r(),l(P,{class:"layoutDefault-header"},{default:a(()=>[e(b)?(r(),l(Qe,De(x({key:0},e(o))),null,16)):c("",!0),e(g)?(r(),l(B,{key:1,wide:"","no-padding":e(_)("l")},{default:a(()=>[s(tt)]),_:1},8,["no-padding"])):c("",!0)]),_:1})),[[L,A=>m.value=A.height]]),s(N,{class:"layoutDefault-page","top-space":e(t),center:e(y)==="center","bottom-space":"80"},{default:a(()=>[le(d.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{ut as default};
