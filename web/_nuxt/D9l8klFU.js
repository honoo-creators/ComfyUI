import{ac as A,ai as L,ak as p,aJ as h,bb as P,c as S,az as V,an as k,a,u as s,am as G,w as t,ao as x,aL as T,aI as U,I as W,ay as J,o as v,J as M,G as O,d as H,e as Q,aA as Y,f as K,z as X,b1 as Z,l as C,b7 as E,m as ee,aj as ae,p as oe}from"./H8NUP-SF.js";import{_ as te}from"./CCVPsEZ1.js";import{_ as se}from"./DEftfQ1H.js";const ne={class:"pageDev"},re=A({__name:"dev",setup(le){const N=L(),c=ee(),w=p(0),l=p(!1),d=p(!1),i=p(0),D=p(!0),$=()=>{ae().push(oe().dashboard())},I=o=>{var e;document.body.classList.toggle("_showComfyui",o),U().public.COMFYUI_GENERATE_ENABLED||(e=document.querySelector(".queue-button-group"))==null||e.classList.toggle("_disabled"),d.value=!1},j=async()=>{if(!await C().open({name:"message",options:{icon:"image",title:"Set Workflow Step 1",content:"Step 1. Upload Image 👈<br />Step 2. Select Workflow.json",buttonName:"Select Genzu Image"}}))return;const o=await E().select(["image"]),e=await c.upload.image(o.file);if(!await C().open({name:"message",options:{icon:"text",title:"Set Workflow Step 2",content:"Step 1. Upload Image<br />Step 2. Select Workflow.json 👈",buttonName:"Select Workflow.json"}}))return;const y=await E().select(["json"]),_=new FileReader;_.readAsText(y.file),_.onload=async b=>{var f;const u=(f=b.target)==null?void 0:f.result,n=JSON.parse(u);n.nodes&&n.nodes.forEach(r=>{r.type==="LoadImage"&&r.widgets_values&&(r.widgets_values=r.widgets_values.map(g=>typeof g=="string"?e.name:g))}),await c.loadGraph(JSON.stringify(n)),D.value=!1}},B=async()=>{i.value=0,await c.queuePrompt()},R=async()=>{i.value=0,await c.postInterrupt()},z=async()=>{await c.queueClear()};return h(()=>l.value,o=>{I(o),o&&!U().public.COMFYUI_GENERATE_ENABLED&&C().open({name:"message",options:{icon:"prohibited",title:"Queue Disabled",content:"この環境は画像生成が許可されていません。<br />ご注意ください。"}})}),h(()=>w.value,o=>{var e;(e=document.querySelector("body > .comfyui-body-top"))==null||e.style.setProperty("top",`${o}px`)}),h(()=>c.progress.value,o=>{i.value=o}),P(()=>{l.value=!1,I(!1)}),(o,e)=>{const y=H,_=O,b=te,u=X,n=K,f=M,r=se,g=Z,F=W,q=J("resize");return v(),S("div",ne,[s(N).path.includes("login")?k("",!0):V((v(),G(r,{key:0,"show-menu":s(d),"onUpdate:showMenu":e[1]||(e[1]=m=>x(d)?d.value=m:null),class:"pageDev-menu",close:"",onClose:$},{left:t(()=>[a(f,{align:"center",gap:"16",nowrap:""},{default:t(()=>[a(b,{modelValue:s(l),"onUpdate:modelValue":e[0]||(e[0]=m=>x(l)?l.value=m:null),name:"showComfyUI"},{default:t(()=>[a(_,{pt:"2"},{default:t(()=>[a(y,{caption3:"",bold:"",unselectable:""},{default:t(()=>e[2]||(e[2]=[Q(" ComfyUI ")])),_:1})]),_:1})]),_:1},8,["modelValue"]),s(l)?(v(),S(Y,{key:0},[a(n,{xsmall:"",w:"16",h:"16",disabled:s(i)>0,onClick:B},{default:t(()=>[a(u,{name:"play",color:"light"})]),_:1},8,["disabled"]),a(n,{xsmall:"",w:"16",h:"16",disabled:s(i)===0,onClick:R},{default:t(()=>[a(u,{name:"pause",color:"light"})]),_:1},8,["disabled"]),a(n,{xsmall:"",link:"",w:"16",h:"16",onClick:j},{default:t(()=>[a(u,{name:"upload",size:"16"})]),_:1}),a(n,{xsmall:"",w:"16",h:"16",disabled:s(i)===0,onClick:z},{default:t(()=>[a(u,{name:"cross",color:"light"})]),_:1},8,["disabled"])],64)):k("",!0)]),_:1})]),_:1},8,["show-menu"])),[[q,m=>w.value=m.height]]),a(F,{class:T(["pageDev-pages",{_hide:s(l)}]),center:"","top-space":s(w),"bottom-space":"50"},{default:t(()=>[a(g)]),_:1},8,["class","top-space"])])}}});export{re as default};
