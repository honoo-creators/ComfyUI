const b=()=>({select:d,encode:m,download:u,getExtension:g,getExtensionByBase64:x,getFileTypeByExtension:h,getFileName:f,getExtensionByFilename:w}),d=async(n=["image"])=>{const e=[];n.forEach(o=>{switch(o){case"image":e.push(".jpg, .jpeg, .png");break;case"audio":e.push("audio/*");break;case"video":e.push("video/*");break;case"document":e.push("application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation");break;case"text":e.push("text/plain, .txt");break}});const a=e.join(", "),t=document.createElement("input");t.type="file",t.accept=a;const r=new Promise((o,s)=>{t.onchange=async p=>{if(p.target!==null){const c=p.target;if(c.files&&c.files.length>0){const i=c.files[0],l=i.name;o({file:i,name:l,blob:URL.createObjectURL(i)})}else s("No file selected")}else s("No file selected")}});return t.click(),r},m=async n=>new Promise(async(e,a)=>{try{const r=await(await fetch(n)).blob(),o=new FileReader;o.onload=s=>{s.target&&typeof s.target.result=="string"?e(s.target.result):a(new Error("Failed to read file as base64."))},o.onerror=a,o.readAsDataURL(r)}catch(t){a(t)}}),u=(n,e)=>{const a=document.createElement("a");a.href=n,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)},f=n=>{const e=n.split("/");return e[e.length-1]},g=async n=>{try{const a=(await fetch(n)).headers.get("Content-Type");let t="";switch(a){case"image/jpeg":t="jpg";break;case"image/png":t="png";break;case"audio/mpeg":t="mp3";break;case"audio/wav":t="wav";break;case"video/mp4":t="mp4";break;case"application/pdf":t="pdf";break;case"application/msword":t="doc";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="docx";break;case"application/vnd.ms-excel":t="xls";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="xlsx";break;case"application/vnd.ms-powerpoint":t="ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":t="pptx";break;case"text/plain":t="txt";break;default:throw new Error("Unsupported file type")}return t}catch(e){throw new Error(`Failed to get file extension: ${e}`)}},x=n=>{const e=n.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);if(!e||e.length<2)throw new Error("Invalid Base64 data");switch(e[1]){case"image/jpeg":return"jpg";case"image/png":return"png";case"audio/mpeg":return"mp3";case"audio/wav":return"wav";case"video/mp4":return"mp4";case"application/pdf":return"pdf";case"application/msword":return"doc";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";case"application/vnd.ms-excel":return"xls";case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return"xlsx";case"application/vnd.ms-powerpoint":return"ppt";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"pptx";default:throw new Error("Unsupported file type")}},h=n=>{const e=["jpg","jpeg","png","gif","bmp","svg","JPG","JPEG","PNG","GIF","BMP","SVG"],a=["pdf","doc","docx","xls","xlsx","ppt","pptx","txt","PDF","DOC","DOCX","XLS","XLSX","PPT","PPTX","TXT"];return e.includes(n)?"image":a.includes(n)?"document":"other"},w=n=>{const e=n.lastIndexOf(".");return e===-1?"":n.substring(e+1)};export{b as u};
