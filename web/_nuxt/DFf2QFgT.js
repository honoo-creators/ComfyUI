import{d as F,e as le,b as ue,ak as de,al as fe,x as m,h as c,y as G,f as n,i,w as t,j as d,z as o,X as s,g as S,a2 as _e,l as u,F as E,k as C,A as me,B as pe,aB as ge,c as he,aM as we,a4 as ve,H as ke,D as be,$ as ye,E as O,t as Se,aN as Ie,T as $e,_ as Be,V as Q,ao as Re,aH as A,aO as Ce,aI as We,a5 as ze,m as Ne,r as He,am as Me,a1 as xe,u as De}from"./DAo9FXbr.js";import{_ as Te}from"./DtImdclm.js";import{_ as Le}from"./SCjean5O.js";import"./By6Ylh0E.js";import"./SHZgtL7h.js";import"./CpxCey8m.js";import"./Cv5srlrQ.js";import"./6k-OAUeY.js";const Ue={key:0,class:"wideHeader-inner-centerLeftUI"},Ve={class:"wideHeader-inner-center"},Pe={key:0,class:"wideHeader-inner-centerRightUI"},y=110,je=F({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(I){const{isPureNumber:$}=We(),{replace:w,go:v}=le(),{DEV:W,dashboard:B}=he(),{loggedIn:p}=ue(),{face:z}=de(fe()),a=I,l=m(0),x=m(0),N=m(0),H=m(0),k=m(0),R=m(0),b=m(0),X=m(0),q=c(()=>k.value>0),J=c(()=>{const g=y*2+Number(A().getVariable("maxWidth","wide"))-480;return Ce().width.value<=g}),K=c(()=>`calc(100% - ${A().getSize(R.value+(b.value||k.value))})`),D=c(()=>{let e="";return!L.value&&a.back?e="back":e="logo",e}),Y=c(()=>{const e=[];return a.back||a.avatar&&e.push("avatar"),e}),T=c(()=>{let e="";return a.title?e="title":a.back||a.globalMenu&&(e="globalMenu"),e}),L=c(()=>{let e="";return a.back&&(e="back"),e}),U=c(()=>{let e="";return q.value?e="button":a.menu?e="menu":a.close&&(e="close"),e}),Z=c(()=>{let e="";return $(String(a.back))?parseInt(String(a.back))>0&&(e="go"):String(a.back)&&(e="replace"),e}),ee=c(()=>{let e="";return $(String(a.close))?parseInt(String(a.close))>0&&(e="go"):String(a.close)&&(e="replace"),e}),te=()=>{if(we().isPrevRoute)switch(Z.value){case"go":v(-1*parseInt(String(a.back)));break;case"replace":w(String(a.back));break}else w(B())},ae=()=>{switch(ee.value){case"go":v(-1*parseInt(String(a.close)));break;case"replace":w(String(a.close));break}},V=()=>{typeof a.menu=="function"?a.menu():ve().open({name:"myMenu",from:"right"})};return(e,g)=>{const ne=Te,se=ke,oe=be,re=ye,f=O,h=Se,M=Ie,P=$e,ie=Be,j=Q,ce=Re,_=G("resize");return n(),i(h,{tag:"header",class:"wideHeader",align:"center",nowrap:""},{default:t(()=>[d((n(),i(j,{class:"wideHeader-inner",wide:""},{default:t(()=>[o(h,{justify:"between",align:"center",nowrap:"",fit:""},{default:t(()=>[d((n(),i(f,{w:y,"min-w":y,mr:"auto"},{default:t(()=>[s(D)?(n(),S(E,{key:0},[s(D)==="logo"?(n(),i(h,{key:0,align:"center",gap:"12",nowrap:""},{default:t(()=>[o(se,{to:s(B)()},{default:t(()=>[o(ne,{size:"32"})]),_:1},8,["to"]),o(f,{"min-w":"20","min-h":"20"},{default:t(()=>[("useRuntimeConfig"in e?e.useRuntimeConfig:s(_e))().public.DEV_ENABLED?(n(),i(re,{key:0,to:s(W),secondary:"",w:"20",h:"20"},{default:t(()=>[o(oe,{name:"setting",size:"12",color:"light"})]),_:1},8,["to"])):u("",!0)]),_:1})]),_:1})):u("",!0)],64)):u("",!0)]),_:1})),[[_,r=>l.value=r.width]]),d((n(),i(f,{w:s(J)?"60%":"100%",h:"100%"},{default:t(()=>[o(j,{fit:""},{default:t(()=>[o(f,{w:"100%",h:"100%",relative:""},{default:t(()=>[o(P,{x:"40"},{default:t(()=>[s(L)==="back"?(n(),S("div",Ue,[d(o(M,{icon:"arrowLeft",size:"22",onClick:te},null,512),[[_,r=>R.value=r.width]])])):u("",!0)]),_:1}),d((n(),i(f,{class:"wideHeader-inner-centerLeftInfo","max-w":s(K),h:"100%"},{default:t(()=>[o(h,{align:"center",nowrap:"",fit:""},{default:t(()=>g[0]||(g[0]=[C("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[_,r=>H.value=r.width]]),C("div",Ve,[s(T)==="title"?(n(),i(h,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:t(()=>[o(ie,{caption1:"",bold:"",center:""},{default:t(()=>[me(pe(a.title),1)]),_:1})]),_:1})):u("",!0),o(f,{h:s(T)?"0":"100%"},{default:t(()=>[o(h,{justify:"center",align:"center",nowrap:"",fit:""},{default:t(()=>g[1]||(g[1]=[C("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),o(P,{x:"40"},{default:t(()=>[s(U)==="menu"?(n(),S("div",Pe,[d(o(M,{icon:"menu",size:"22",onClick:V},null,512),[[_,r=>b.value=r.width+(I.menuNotice?16:0)]]),I.menuNotice?(n(),i(f,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):u("",!0)])):u("",!0),s(U)==="close"?d((n(),i(M,{key:1,class:"wideHeader-inner-centerRightUI",icon:"cross",size:"22",onClick:ae},null,512)),[[_,r=>b.value=r.width]]):u("",!0)]),_:1}),d((n(),i(f,{class:"wideHeader-centerRight"},{default:t(()=>[o(h,{justify:"end",align:"center",fit:""},{default:t(()=>g[2]||(g[2]=[C("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[_,r=>k.value=r.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[_,r=>x.value=r.width]]),d((n(),i(f,{w:y,"min-w":y,ml:"auto"},{default:t(()=>[o(h,{justify:"end",align:"center",gap:"40",nowrap:""},{default:t(()=>[s(Y).includes("avatar")?(n(),S(E,{key:0},[s(p)?(n(),i(ge,{key:0,onClick:V},{default:t(()=>[o(ce,{src:s(z),size:"28"},null,8,["src"])]),_:1})):u("",!0)],64)):u("",!0)]),_:1})]),_:1})),[[_,r=>N.value=r.width]])]),_:1})]),_:1})),[[_,r=>X.value=r.width]])]),_:1})}}}),Ee={class:"layoutDefault"},Ke=F({__name:"default",setup(I){const{isScreenSizeAbove:$}=Me(),w=m(0),v=c(()=>De().meta.page),W=c(()=>{var l;return((l=v.value)==null?void 0:l.type)||""}),B=c(()=>{var l;return((l=v.value)==null?void 0:l.isGenerateSetting)||!1}),p=c(()=>{var l;return((l=v.value)==null?void 0:l.header)||{}}),z=c(()=>p.value.title||p.value.back||p.value.close||p.value.logo||p.value.menu),a=c(()=>w.value);return(l,x)=>{const N=Q,H=O,k=xe,R=G("resize");return n(),S("div",Ee,[d((n(),i(H,{class:"layoutDefault-header"},{default:t(()=>[s(z)?(n(),i(je,ze(Ne({key:0},s(p))),null,16)):u("",!0),s(B)?(n(),i(N,{key:1,wide:"","no-padding":s($)("l")},{default:t(()=>[o(Le)]),_:1},8,["no-padding"])):u("",!0)]),_:1})),[[R,b=>w.value=b.height]]),o(k,{class:"layoutDefault-page","top-space":s(a),center:s(W)==="center","bottom-space":"80"},{default:t(()=>[He(l.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{Ke as default};
