import{ac as b,al as i,am as f,b2 as g,c as h,ab as x,aK as E,aL as L,o as X}from"./Bz2rvL1p.js";const B=b({__name:"Draggable",props:{disabledX:{type:Boolean,default:!1},disabledY:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>({x:0,y:0})},calc:{type:Boolean,default:!1}},emits:["update:modelValue","dragging","endDrag"],setup(m,{emit:p}){const d=p,o=m,s=i(0),n=i(0),c=i(!1),a=f({get:()=>o.modelValue,set:e=>{d("update:modelValue",e)}}),y=f(()=>({_disabled:o.disabled})),v=e=>{o.disabled||(document.body.addEventListener("mousemove",r),document.body.addEventListener("touchmove",r),document.body.addEventListener("mouseup",t),document.body.addEventListener("touchend",t),"touches"in e?(s.value=e.touches[0].clientX-a.value.x,n.value=e.touches[0].clientY-a.value.y):(s.value=e.clientX-a.value.x,n.value=e.clientY-a.value.y),c.value=!0)},r=e=>{if(!c.value)return;let l,u;"touches"in e?(l=e.touches[0].clientX-s.value,u=e.touches[0].clientY-n.value):(l=e.clientX-s.value,u=e.clientY-n.value),o.disabledX&&(l=a.value.x),o.disabledY&&(u=a.value.y),a.value={x:l,y:u},d("dragging")},t=()=>{document.body.removeEventListener("mousemove",r),document.body.removeEventListener("mouseup",t),document.body.removeEventListener("mouseup",t),document.body.removeEventListener("touchend",t),c.value=!1,d("endDrag",{distanceX:a.value.x,distanceY:a.value.y})};return g(()=>{t()}),(e,l)=>(X(),h("div",{class:L(["draggable",y.value]),style:E(m.calc?{}:{transform:`translate(${a.value.x}px, ${a.value.y}px)`}),onMousedown:v,onMouseup:t,onTouchstartPassive:v,onTouchend:t},[x(e.$slots,"default")],38))}});export{B as _};
