import{a8 as G,f as N,aS as v,as as S,aj as _,a9 as V,aT as B,aw as D,g as U,k as x,ad as i,l as s,a6 as t,aU as p,z as F,o,a5 as a,y as X,av as g,j,a as k,aV as z,i as M,c as d,an as h,$ as J,x as K,aD as Y,m as q,ac as H,v as Q}from"./UAXgUK1c.js";const W={class:"pageDashboard"},ae=G({__name:"dashboard",setup(Z){const{list:T,active:l}=N(v()),u=S(!1),c=S(!1),m=_(()=>{var e;return((e=l.value)==null?void 0:e.type)==="personal"}),$=_(()=>T.value.some(e=>e.type==="enterprise")),y=_(()=>!$.value&&c.value),E=async()=>{await k().open({name:"message",options:{icon:"building",title:"生成可能プラン",content:"エンタープライズプランのみ<br />ご利用いただけます。",buttonName:"プランを詳しくみる"}})&&H().push(d().ROOT+"#enterprise-plan")},I=()=>{localStorage.setItem(`${p().public.LOCAL_STORAGE_PREFIX}-enterprise-code-input-visible`,"false"),f()},f=()=>{const e=localStorage.getItem(`${p().public.LOCAL_STORAGE_PREFIX}-enterprise-code-input-visible`);e===null?(localStorage.setItem(`${p().public.LOCAL_STORAGE_PREFIX}-enterprise-code-input-visible`,"true"),c.value=!0):c.value=e==="true"};return V(async()=>{u.value=!0,await B().profileUpdate(),await D(),U().init(),await v().init(),f(),u.value=!1}),(e,n)=>{const C=j,b=M,O=X,r=K,R=q,w=Y,A=J,L=F,P=Q;return o(),x("div",W,[s(u)?(o(),i(P,{key:1})):(o(),i(L,{key:0,narrow:""},{default:t(()=>[a(O,{gap:"28"},{default:t(()=>[s(l)?(o(),i(C,{key:0,onClick:n[0]||(n[0]=ee=>("useSheet"in e?e.useSheet:s(k))().open({name:"usageTypeSelect"}))},{default:t(()=>[a(z,{data:s(l)},null,8,["data"])]),_:1})):g("",!0),a(b,{disabled:s(m),to:s(m)?"":("useConstantsPath"in e?e.useConstantsPath:s(d))().GENERATE_LOOKSTYLE,onDisabledClick:E},{default:t(()=>n[1]||(n[1]=[h(" 背景美術生成を開始する ")])),_:1},8,["disabled","to"])]),_:1}),a(A,null,{default:t(()=>[s(y)?(o(),i(r,{key:0,relative:""},{default:t(()=>[a(r,{h:"20"}),a(b,{info:"",small:"",to:("useConstantsPath"in e?e.useConstantsPath:s(d))().JOIN},{default:t(()=>n[2]||(n[2]=[h(" エンタープライズコードをお持ちの方はこちら ")])),_:1},8,["to"]),a(r,{absolute:"",top:"20",bottom:"0",right:"20"},{default:t(()=>[a(w,null,{default:t(()=>[a(C,{onClick:I},{default:t(()=>[a(R,{name:"cross",size:"12",color:"text-030"})]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1}))])}}});export{ae as default};
