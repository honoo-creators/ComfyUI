import{d as G,e as ue,b as de,am as fe,an as _e,x as m,h as c,y as O,f as s,i as r,w as t,j as d,z as o,Y as n,g as S,$ as j,l as u,F as A,k as B,A as me,B as pe,aF as ge,c as he,aR as we,a7 as ve,H as be,D as ke,a2 as ye,E as q,t as Se,aS as Re,T as Ie,_ as $e,V as K,aq as Ce,aK as F,aT as Be,aL as Ne,a8 as We,m as ze,r as Me,ao as Te,a4 as He,u as De}from"./CVjm8Pq9.js";import{_ as Le}from"./CYQ92bUA.js";import{_ as xe}from"./Cs78zXZr.js";import"./Cub8QxnH.js";import"./C59-a2ec.js";import"./CmMSoR0i.js";import"./CpV7e_bx.js";import"./BRW9EF2_.js";const Ue={key:0,class:"wideHeader-inner-centerLeftUI"},Ve={class:"wideHeader-inner-center"},Ee={key:0,class:"wideHeader-inner-centerRightUI"},y=110,Pe=G({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(R){const{isPureNumber:I}=Ne(),{replace:w,go:v}=ue(),{DEV:N,dashboard:$}=he(),{loggedIn:p}=de(),{face:W}=fe(_e()),a=R,l=m(0),H=m(0),z=m(0),M=m(0),b=m(0),C=m(0),k=m(0),Q=m(0),Y=c(()=>b.value>0),J=c(()=>{const g=y*2+Number(F().getVariable("maxWidth","wide"))-480;return Be().width.value<=g}),X=c(()=>`calc(100% - ${F().getSize(C.value+(k.value||b.value))})`),D=c(()=>{let e="";return!x.value&&a.back?e="back":e="logo",e}),Z=c(()=>{const e=[];return a.back||a.avatar&&e.push("avatar"),e}),L=c(()=>{let e="";return a.title?e="title":a.back||a.globalMenu&&(e="globalMenu"),e}),x=c(()=>{let e="";return a.back&&(e="back"),e}),U=c(()=>{let e="";return Y.value?e="button":a.menu?e="menu":a.close&&(e="close"),e}),ee=c(()=>{let e="";return I(String(a.back))?parseInt(String(a.back))>0&&(e="go"):String(a.back)&&(e="replace"),e}),te=c(()=>{let e="";return I(String(a.close))?parseInt(String(a.close))>0&&(e="go"):String(a.close)&&(e="replace"),e}),ae=()=>{if(we().isPrevRoute)switch(ee.value){case"go":v(-1*parseInt(String(a.back)));break;case"replace":w(String(a.back));break}else w($())},ne=()=>{switch(te.value){case"go":v(-1*parseInt(String(a.close)));break;case"replace":w(String(a.close));break}},V=()=>{typeof a.menu=="function"?a.menu():ve().open({name:"myMenu",from:"right"})};return(e,g)=>{const se=Le,oe=be,ie=ke,re=ye,f=q,h=Se,T=Re,E=Ie,ce=$e,P=K,le=Ce,_=O("resize");return s(),r(h,{tag:"header",class:"wideHeader",align:"center",nowrap:""},{default:t(()=>[d((s(),r(P,{class:"wideHeader-inner",wide:""},{default:t(()=>[o(h,{justify:"between",align:"center",nowrap:"",fit:""},{default:t(()=>[d((s(),r(f,{w:y,"min-w":y,mr:"auto"},{default:t(()=>[n(D)?(s(),S(A,{key:0},[n(D)==="logo"?(s(),r(h,{key:0,align:"center",gap:"12",nowrap:""},{default:t(()=>[o(oe,{to:n($)()},{default:t(()=>[o(se,{size:"32"})]),_:1},8,["to"]),o(f,{"min-w":"20","min-h":"20"},{default:t(()=>[("useRuntimeConfig"in e?e.useRuntimeConfig:n(j))().public.DEV_ENABLED&&("useRuntimeConfig"in e?e.useRuntimeConfig:n(j))().public.ENVIRONMENT==="local"?(s(),r(re,{key:0,to:n(N),secondary:"",w:"20",h:"20"},{default:t(()=>[o(ie,{name:"setting",size:"12",color:"light"})]),_:1},8,["to"])):u("",!0)]),_:1})]),_:1})):u("",!0)],64)):u("",!0)]),_:1})),[[_,i=>l.value=i.width]]),d((s(),r(f,{w:n(J)?"60%":"100%",h:"100%"},{default:t(()=>[o(P,{fit:""},{default:t(()=>[o(f,{w:"100%",h:"100%",relative:""},{default:t(()=>[o(E,{x:"40"},{default:t(()=>[n(x)==="back"?(s(),S("div",Ue,[d(o(T,{icon:"arrowLeft",size:"22",onClick:ae},null,512),[[_,i=>C.value=i.width]])])):u("",!0)]),_:1}),d((s(),r(f,{class:"wideHeader-inner-centerLeftInfo","max-w":n(X),h:"100%"},{default:t(()=>[o(h,{align:"center",nowrap:"",fit:""},{default:t(()=>g[0]||(g[0]=[B("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[_,i=>M.value=i.width]]),B("div",Ve,[n(L)==="title"?(s(),r(h,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:t(()=>[o(ce,{caption1:"",bold:"",center:""},{default:t(()=>[me(pe(a.title),1)]),_:1})]),_:1})):u("",!0),o(f,{h:n(L)?"0":"100%"},{default:t(()=>[o(h,{justify:"center",align:"center",nowrap:"",fit:""},{default:t(()=>g[1]||(g[1]=[B("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),o(E,{x:"40"},{default:t(()=>[n(U)==="menu"?(s(),S("div",Ee,[d(o(T,{icon:"menu",size:"22",onClick:V},null,512),[[_,i=>k.value=i.width+(R.menuNotice?16:0)]]),R.menuNotice?(s(),r(f,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):u("",!0)])):u("",!0),n(U)==="close"?d((s(),r(T,{key:1,class:"wideHeader-inner-centerRightUI",icon:"cross",size:"22",onClick:ne},null,512)),[[_,i=>k.value=i.width]]):u("",!0)]),_:1}),d((s(),r(f,{class:"wideHeader-centerRight"},{default:t(()=>[o(h,{justify:"end",align:"center",fit:""},{default:t(()=>g[2]||(g[2]=[B("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[_,i=>b.value=i.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[_,i=>H.value=i.width]]),d((s(),r(f,{w:y,"min-w":y,ml:"auto"},{default:t(()=>[o(h,{justify:"end",align:"center",gap:"40",nowrap:""},{default:t(()=>[n(Z).includes("avatar")?(s(),S(A,{key:0},[n(p)?(s(),r(ge,{key:0,onClick:V},{default:t(()=>[o(le,{src:n(W),size:"28"},null,8,["src"])]),_:1})):u("",!0)],64)):u("",!0)]),_:1})]),_:1})),[[_,i=>z.value=i.width]])]),_:1})]),_:1})),[[_,i=>Q.value=i.width]])]),_:1})}}}),je={class:"layoutDefault"},Je=G({__name:"default",setup(R){const{isScreenSizeAbove:I}=Te(),w=m(0),v=c(()=>De().meta.page),N=c(()=>{var l;return((l=v.value)==null?void 0:l.type)||""}),$=c(()=>{var l;return((l=v.value)==null?void 0:l.isGenerateSetting)||!1}),p=c(()=>{var l;return((l=v.value)==null?void 0:l.header)||{}}),W=c(()=>p.value.title||p.value.back||p.value.close||p.value.logo||p.value.menu),a=c(()=>w.value);return(l,H)=>{const z=K,M=q,b=He,C=O("resize");return s(),S("div",je,[d((s(),r(M,{class:"layoutDefault-header"},{default:t(()=>[n(W)?(s(),r(Pe,We(ze({key:0},n(p))),null,16)):u("",!0),n($)?(s(),r(z,{key:1,wide:"","no-padding":n(I)("l")},{default:t(()=>[o(xe)]),_:1},8,["no-padding"])):u("",!0)]),_:1})),[[C,k=>w.value=k.height]]),o(b,{class:"layoutDefault-page","top-space":n(a),center:n(N)==="center","bottom-space":"80"},{default:t(()=>[Me(l.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{Je as default};
