import{aa as j,af as u,ag as d,ab as L,aQ as q,aL as S,aR as A,aE as x,o as c,ai as v,w as f,a as V,aV as h,aB as w,I as G,am as k,aj as B,E as C,aG as H,aY as Q}from"./TvOMxzgX.js";import{_ as R}from"./CcO8s_QK.js";import{_ as T}from"./Dmt6nXu-.js";const p=16,Z=j({__name:"InputRange",props:{modelValue:{type:Number,required:!0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},disabled:{type:Boolean,default:!1},controls:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:$}){const{getSize:o}=Q(),e=n,g=$,z=u(null),s=u({x:0,y:0}),r=u(0),b=u(0),M=u(0),E=u(0),P=d(()=>({_disabled:e.disabled})),i=d({get:()=>{const a=Math.min(Math.max(e.modelValue,Number(String(e.min))),Number(String(e.max)));return(e.modelValue<Number(String(e.min))||e.modelValue>Number(String(e.max)))&&g("update:modelValue",a),a},set:a=>{g("update:modelValue",a)}}),N=d(()=>(i.value-Number(String(e.min)))/(Number(String(e.max))-Number(String(e.min)))),_=d(()=>{const a=e.controls?22:2,t=e.controls?44:0,m=o((b.value-p)/2+a),l=o((b.value-p)/2+t);return{width:o(p),height:o(p),top:m,left:l}}),D=()=>{i.value=s.value.x/r.value*(Number(String(e.max))-Number(String(e.min)))+Number(String(e.min)),s.value.x=Math.min(Math.max(s.value.x,0),r.value)},I=a=>{r.value=a.width,M.value=a.top,E.value=a.left,y()},y=()=>{s.value.x=N.value*r.value};return L(async()=>{await q(),S(()=>s.value,D,{deep:!0}),S(()=>i.value,y,{immediate:!0})}),(a,t)=>{const m=A("resize");return x((c(),v(C,{class:H(["inputRange",P.value])},{default:f(()=>[V(T,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),class:"inputRange-handle",style:h(_.value),"disabled-y":""},{default:f(()=>t[3]||(t[3]=[w("div",{class:"inputRange-handle-inner"},null,-1)])),_:1},8,["modelValue","style"]),V(G,{justify:"center",align:"center",nowrap:""},{default:f(()=>[n.controls?(c(),v(R,k({key:0,icon:{name:"minus"},link:"",medium:""},{disabled:n.disabled},{onClick:t[1]||(t[1]=l=>i.value-=Number(n.step))}),null,16)):B("",!0),x((c(),v(C,{class:"inputRange-slider"},{default:f(()=>[w("div",{class:"inputRange-slider-bar",style:h({transform:`scaleX(${N.value})`})},null,4)]),_:1})),[[m,l=>I(l)]]),n.controls?(c(),v(R,k({key:1,icon:{name:"plus"},link:"",medium:""},{disabled:n.disabled},{onClick:t[2]||(t[2]=l=>i.value+=Number(n.step))}),null,16)):B("",!0)]),_:1})]),_:1},8,["class"])),[[m,l=>z.value=l]])}}});export{Z as default};
