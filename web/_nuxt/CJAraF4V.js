import{a8 as I,ac as Z,u as we,f as ee,aU as Ee,as as v,aj as c,ad as l,o as r,B as Se,al as Re,a6 as a,ax as k,z as te,a5 as o,x as ae,k as $,av as d,l as e,aI as q,h as Te,aa as z,c as p,aW as J,az as ne,at as T,a1 as $e,G as Ne,w as se,an as D,ao as oe,j as Ae,_ as Ce,ar as Q,bb as We,aq as Ie,bc as Le,bd as Me,ai as re,aD as Oe,g as Pe,au as X,be as Be,A as Ge,a7 as De}from"./bEFnP20F.js";import{_ as ze}from"./CL99HW5X.js";import{_ as xe}from"./Bkz4qP_e.js";import{_ as A}from"./X0benWl8.js";import{_ as Ue}from"./DZOXBeKO.js";import{_ as je}from"./sFRhVuri.js";import{_ as G}from"./uG7z4vT-.js";import"./DFGDD4NO.js";const Ve={key:0,class:"headerWide-inner-centerLeftUI"},He={class:"headerWide-inner-center"},Fe={key:0,class:"headerWide-inner-centerRightUI"},C=110,Ke=I({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(R){const{isPureNumber:m}=Ie(),{replace:f,go:_}=Z(),{DEV:y,ROOT:g,dashboard:s}=p(),{loggedIn:h}=we(),{face:i}=ee(Ee()),t=R,x=v(0),L=v(0),M=v(0),O=v(0),N=v(0),W=v(0),P=v(0),ie=v(0),le=c(()=>N.value>0),ce=c(()=>{const b=C*2+Number(Q().getVariable("maxWidth","wide"))-480;return We().width.value<=b}),ue=c(()=>`calc(100% - ${Q().getSize(W.value+(P.value||N.value))})`),U=c(()=>{let n="";return!V.value&&t.back?n="back":n="logo",n}),de=c(()=>{const n=[];return t.back||t.avatar&&n.push("avatar"),n}),j=c(()=>{let n="";return t.title?n="title":t.back||t.globalMenu&&(n="globalMenu"),n}),V=c(()=>{let n="";return t.back&&(n="back"),n}),H=c(()=>{let n="";return le.value?n="button":t.menu?n="menu":t.close&&(n="close"),n}),fe=c(()=>{let n="";return m(String(t.back))?parseInt(String(t.back))>0&&(n="go"):String(t.back)&&(n="replace"),n}),_e=c(()=>{let n="";return m(String(t.close))?parseInt(String(t.close))>0&&(n="go"):String(t.close)&&(n="replace"),n}),me=()=>{if(Le().isPrevRoute)switch(fe.value){case"go":_(-1*parseInt(String(t.back)));break;case"replace":f(String(t.back));break}else f(s())},pe=()=>{switch(_e.value){case"go":_(-1*parseInt(String(t.close)));break;case"replace":f(String(t.close));break}},F=()=>{typeof t.menu=="function"?t.menu():Me().open({name:"myMenu",from:"right"})};return(n,b)=>{const ge=ze,he=Te,be=xe,w=ae,E=Se,B=Ne,K=$e,ke=se,Y=te,ve=Ce,ye=Ae,S=ne("resize");return r(),l(E,{tag:"header",class:Re(["headerWide",{_background:R.background}]),align:"center",nowrap:""},{default:a(()=>[k((r(),l(Y,{class:"headerWide-inner",wide:""},{default:a(()=>[o(E,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[k((r(),l(w,{w:C,"min-w":C,mr:"auto"},{default:a(()=>[e(U)?(r(),$(q,{key:0},[e(U)==="logo"?(r(),l(E,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[o(he,{to:("useRoute"in n?n.useRoute:e(z))().path===e(s)()?e(g):e(s)()},{default:a(()=>[o(ge,{size:"32"})]),_:1},8,["to"]),o(w,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in n?n.useRuntimeConfig:e(J))().public.DEV_ENABLED&&("useRuntimeConfig"in n?n.useRuntimeConfig:e(J))().public.ENVIRONMENT==="local"?(r(),l(be,{key:0,to:e(y),tertiary:"",w:"20",h:"20",icon:{name:"setting",size:12,color:"light"}},null,8,["to"])):d("",!0)]),_:1})]),_:1})):d("",!0)],64)):d("",!0)]),_:1})),[[S,u=>x.value=u.width]]),k((r(),l(w,{w:e(ce)?"60%":"100%",h:"100%"},{default:a(()=>[o(Y,{fit:""},{default:a(()=>[o(w,{w:"100%",h:"100%",relative:""},{default:a(()=>[o(K,{x:"40"},{default:a(()=>[e(V)==="back"?(r(),$("div",Ve,[k(o(B,{icon:"arrowLeft",size:"22",onClick:me},null,512),[[S,u=>W.value=u.width]])])):d("",!0)]),_:1}),k((r(),l(w,{class:"headerWide-inner-centerLeftInfo","max-w":e(ue),h:"100%"},{default:a(()=>[o(E,{align:"center",nowrap:"",fit:""},{default:a(()=>b[0]||(b[0]=[T("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[S,u=>O.value=u.width]]),T("div",He,[e(j)==="title"?(r(),l(E,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[o(ke,{caption1:"",bold:"",center:""},{default:a(()=>[D(oe(t.title),1)]),_:1})]),_:1})):d("",!0),o(w,{h:e(j)?"0":"100%"},{default:a(()=>[o(E,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>b[1]||(b[1]=[T("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),o(K,{x:"40"},{default:a(()=>[e(H)==="menu"?(r(),$("div",Fe,[k(o(B,{icon:"menu",size:"22",onClick:F},null,512),[[S,u=>P.value=u.width+(R.menuNotice?16:0)]]),R.menuNotice?(r(),l(w,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):d("",!0)])):d("",!0),e(H)==="close"?k((r(),l(B,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:pe},null,512)),[[S,u=>P.value=u.width]]):d("",!0)]),_:1}),k((r(),l(w,{class:"headerWide-centerRight"},{default:a(()=>[o(E,{justify:"end",align:"center",fit:""},{default:a(()=>b[2]||(b[2]=[T("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[S,u=>N.value=u.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[S,u=>L.value=u.width]]),k((r(),l(w,{w:C,"min-w":C,ml:"auto"},{default:a(()=>[o(E,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[o(E,{justify:"end",align:"center",fit:""},{default:a(()=>b[3]||(b[3]=[T("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),e(de).includes("avatar")?(r(),$(q,{key:0},[e(h)?(r(),l(ye,{key:0,onClick:F},{default:a(()=>[o(ve,{src:e(i),size:"28"},null,8,["src"])]),_:1})):d("",!0)],64)):d("",!0)]),_:1})]),_:1})),[[S,u=>M.value=u.width]])]),_:1})]),_:1})),[[S,u=>ie.value=u.width]])]),_:1},8,["class"])}}}),Ye={class:"lookStyleSetting"},qe={class:"lookStyleSetting-image"},Je={class:"lookStyleSetting-name"},Qe=I({__name:"LookStyleSetting",props:{fit:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup(R){const m=R,f=c(()=>m.data.name),_=c(()=>m.data.id);return(y,g)=>{const s=se,h=Oe;return r(),$("div",Ye,[o(s,{class:"lookStyleSetting-label",footnote:"",bold:"",unselectable:"",color:"light"},{default:a(()=>g[0]||(g[0]=[D(" ルックスタイル ")])),_:1}),T("div",qe,[o(Ue,re({id:e(_)},{cover:""}),null,16)]),T("div",Je,[o(h,null,{default:a(()=>[o(s,{title3:"",extrabold:"",center:"",unselectable:"","line-height":"1",color:"light"},{default:a(()=>[D(oe(e(f)),1)]),_:1})]),_:1})])])}}}),Xe={class:"generateSettingList"},Ze=I({__name:"GenerateSettingList",setup(R){const{lookStyle:m,base64:f,promptScene:_,promptMood:y,promptLighting:g}=ee(Pe()),s=v(0);return X(()=>s.value,h=>{let i="";switch(h){case 0:i=p().GENERATE_LOOKSTYLE;break;case 1:i=p().GENERATE_UPLOAD;break;case 2:i=p().GENERATE_PROMPT_SCENE;break;case 3:i=p().GENERATE_PROMPT_MOOD;break;case 4:i=p().GENERATE_PROMPT_LIGHTING;break}Z().push(i)}),X(()=>z().path,h=>{switch(h){case p().GENERATE_LOOKSTYLE:s.value=0;break;case p().GENERATE_UPLOAD:s.value=1;break;case p().GENERATE_PROMPT_SCENE:s.value=2;break;case p().GENERATE_PROMPT_MOOD:s.value=3;break;case p().GENERATE_PROMPT_LIGHTING:s.value=4;break}}),(h,i)=>(r(),$("div",Xe,[o(A,{name:"ルックスタイル",icon:{name:"colorSwatch",size:24},current:e(s)===0,"is-set":e(m)!==null,onClick:i[0]||(i[0]=t=>s.value=0)},{default:a(()=>[e(m)!==null?(r(),l(Qe,{key:0,data:e(m),fit:""},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set"]),o(A,{name:"原図データ",icon:"photograph",current:e(s)===1,"is-set":e(f)!=="",disabled:!e(m),onClick:i[1]||(i[1]=t=>s.value=1)},{default:a(()=>[e(f)!==""?(r(),l(je,{key:0,data:e(f),fit:""},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"]),o(A,{name:"シーン構成",icon:"edit",current:e(s)===2,"is-set":Array.isArray(e(_)),disabled:!e(f),onClick:i[2]||(i[2]=t=>s.value=2)},{default:a(()=>[Array.isArray(e(_))?(r(),l(G,{key:0,name:"シーン構成",data:e(_)},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"]),o(A,{name:"色調・ムード",icon:"edit",current:e(s)===3,"is-set":Array.isArray(e(y)),disabled:e(_)===null,onClick:i[3]||(i[3]=t=>s.value=3)},{default:a(()=>[Array.isArray(e(y))?(r(),l(G,{key:0,name:"色調・ムード",data:e(y)},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"]),o(A,{name:"ライティング",icon:"edit",current:e(s)===4,"is-set":Array.isArray(e(g)),disabled:e(y)===null,onClick:i[4]||(i[4]=t=>s.value=4)},{default:a(()=>[Array.isArray(e(g))?(r(),l(G,{key:0,name:"ライティング",data:e(g)},null,8,["data"])):d("",!0)]),_:1},8,["current","is-set","disabled"])]))}}),et={class:"layoutDefault"},ct=I({__name:"default",setup(R){const{above:m}=Be(),f=v(0),_=c(()=>z().meta.page),y=c(()=>{var t;return((t=_.value)==null?void 0:t.type)||""}),g=c(()=>{var t;return((t=_.value)==null?void 0:t.isGenerateSetting)||!1}),s=c(()=>{var t;return((t=_.value)==null?void 0:t.header)||{}}),h=c(()=>s.value.title||s.value.back||s.value.close||s.value.logo||s.value.menu),i=c(()=>f.value+40);return(t,x)=>{const L=te,M=ae,O=Ge,N=ne("resize");return r(),$("div",et,[k((r(),l(M,{class:"layoutDefault-header"},{default:a(()=>[e(h)?(r(),l(Ke,re({key:0},e(s),{background:!1}),null,16)):d("",!0),e(g)?(r(),l(L,{key:1,class:"layoutDefault-header-generateSetting",wide:"","no-padding":e(m)("l")},{default:a(()=>[o(Ze)]),_:1},8,["no-padding"])):d("",!0)]),_:1})),[[N,W=>f.value=W.height]]),o(O,{class:"layoutDefault-page","top-space":e(i),center:e(y)==="center","bottom-space":"80"},{default:a(()=>[De(t.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{ct as default};
