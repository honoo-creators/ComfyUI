import{ab as b,ag as o,c as $,a as c,w as l,G as y,o as u,F as E,ai as f,aj as g,ar as j,an as S,u as a,ak as x,b as z,d as v,ae as B,j as N,aA as A,s as I,C as O}from"./Bf4R22fe.js";import{_ as D}from"./CqVgxdw5.js";import"./B1IhplCk.js";const G={class:"pageJoin"},P=b({__name:"join",setup(U){const s=o(""),m=o(!1),n=o(""),t=o(""),r=o(!1),p=o(new Date().toISOString()),C=async()=>{m.value=!0,n.value="progress",t.value="";try{const{organization_id:i,organization_name:e}=await B().member.join.organization(s.value);await N().open({name:"joinOrganization",options:{id:i,name:e}})}catch(i){if(n.value="ng",t.value="無効な招待コードです。",!(i instanceof A))return I({statusCode:Number(O.UnknownError),statusMessage:"不明なエラーが発生しました。"})}finally{m.value=!1}},k=()=>{s.value="",n.value="",t.value="",r.value=!1,p.value=new Date().toISOString()};return(i,e)=>{const _=z,w=E,V=y;return u(),$("div",G,[c(V,{narrow:""},{default:l(()=>[c(w,{class:"pageGenerateConfirm",gap:"28"},{default:l(()=>[c(j,{icon:"code",title:"追加するコードをご入力ください"}),(u(),f(D,S({key:a(p),modelValue:a(s),"onUpdate:modelValue":e[0]||(e[0]=d=>x(s)?s.value=d:null)},{status:a(n),message:a(t)},{onValid:e[1]||(e[1]=d=>r.value=!0),onInvalid:e[2]||(e[2]=d=>r.value=!1)}),null,16,["modelValue"])),a(n)!=="ng"?(u(),f(_,{key:0,disabled:!a(r),loading:a(m),onClick:C},{default:l(()=>e[3]||(e[3]=[v(" 送信 ")])),_:1},8,["disabled","loading"])):g("",!0),a(n)==="ng"?(u(),f(_,{key:1,onClick:k},{default:l(()=>e[4]||(e[4]=[v(" クリア ")])),_:1})):g("",!0)]),_:1})]),_:1})])}}});export{P as default};
