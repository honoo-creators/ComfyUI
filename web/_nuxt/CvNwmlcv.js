import{ag as d,bj as be,bk as ve,ab as Y,af as ke,h as ye,m as we,bf as Re,ah as u,ai as c,o,I as Se,aE as We,w as a,aF as g,G as Z,a as r,E as J,c as W,aj as f,u as s,aP as G,r as Ce,ad as Q,l as Ie,az as H,aT as X,aG as R,a7 as $e,M as Be,D as Ne,d as je,as as Ee,t as ze,q as Me,a_ as q,bl as Te,aZ as De,e as Pe,bm as Le,H as Oe,an as Ue,aa as Ve}from"./C6gKZjUI.js";import{_ as xe}from"./CIyxUgv3.js";import{_ as Ae}from"./B_jzkHu4.js";import{_ as Fe}from"./BT1fVRKO.js";import"./L0MjGfYx.js";import"./BI4EBUED.js";import"./DwqQYlzX.js";import"./DtpRx4EL.js";import"./CqNac_QQ.js";import"./BZMHov6Z.js";const Ge=()=>({isEmpty:He,isObject:D,isEqual:ee}),He=n=>Object.keys(n).length===0&&n.constructor===Object,D=n=>{let l=n!==null&&typeof n=="object";return l&&Array.isArray(n)&&(l=!1),l},ee=(n,l)=>{if(!D(n)||!D(l))return n===l;const m=Object.keys(n),h=Object.keys(l);if(m.length!==h.length)return!1;for(const y of m)if(!h.includes(y)||!ee(n[y],l[y]))return!1;return!0},K=d(!1),te=d({}),I=d({}),ae=d({}),qe=()=>({to:te,from:I,init:Ke,getScrollPosition:Ye,isPrevRoute:Ze}),Ke=()=>{K.value||(K.value=!0,be().beforeEach((n,l,m)=>{ae.value[l.fullPath]=Number(ve().scrollY),te.value=n,I.value=l,m()}))},Ye=n=>ae.value[n]||0,Ze=()=>{let n=!1;return I.value&&(Ge().isEmpty(I.value)?n=!1:n=!0),n},Je={key:0,class:"headerWide-inner-centerLeftUI"},Qe={class:"headerWide-inner-center"},Xe={key:0,class:"headerWide-inner-centerRightUI"},S=110,et=Y({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(n){const{isPureNumber:l}=De(),{replace:m,go:h}=ke(),{DEV:y,ROOT:$,dashboard:p}=Ie(),{loggedIn:B}=ye(),{face:N}=we(Re()),t=n,P=d(0),j=d(0),E=d(0),z=d(0),w=d(0),C=d(0),M=d(0),ne=d(0),se=u(()=>w.value>0),oe=u(()=>{const _=S*2+Number(q().getVariable("maxWidth","wide"))-480;return Te().width.value<=_}),re=u(()=>`calc(100% - ${q().getSize(C.value+(M.value||w.value))})`),L=u(()=>{let e="";return!U.value&&t.back?e="back":e="logo",e}),ie=u(()=>{const e=[];return t.back||t.avatar&&e.push("avatar"),e}),O=u(()=>{let e="";return t.title?e="title":t.back||t.globalMenu&&(e="globalMenu"),e}),U=u(()=>{let e="";return t.back&&(e="back"),e}),V=u(()=>{let e="";return se.value?e="button":t.menu?e="menu":t.close&&(e="close"),e}),le=u(()=>{let e="";return l(String(t.back))?parseInt(String(t.back))>0&&(e="go"):String(t.back)&&(e="replace"),e}),ce=u(()=>{let e="";return l(String(t.close))?parseInt(String(t.close))>0&&(e="go"):String(t.close)&&(e="replace"),e}),ue=()=>{if(qe().isPrevRoute)switch(le.value){case"go":h(-1*parseInt(String(t.back)));break;case"replace":m(String(t.back));break}else m(p())},de=()=>{switch(ce.value){case"go":h(-1*parseInt(String(t.close)));break;case"replace":m(String(t.close));break}},x=()=>{typeof t.menu=="function"?t.menu():Pe().open({name:"myMenu",from:"right"})};return(e,_)=>{const fe=xe,me=Ce,pe=Ae,b=J,v=Se,T=Be,A=$e,_e=Ne,F=Z,ge=Me,he=ze,k=X("resize");return o(),c(v,{tag:"header",class:We(["headerWide",{_background:n.background}]),align:"center",nowrap:""},{default:a(()=>[g((o(),c(F,{class:"headerWide-inner",wide:""},{default:a(()=>[r(v,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[g((o(),c(b,{w:S,"min-w":S,mr:"auto"},{default:a(()=>[s(L)?(o(),W(G,{key:0},[s(L)==="logo"?(o(),c(v,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[r(me,{to:("useRoute"in e?e.useRoute:s(Q))().path===s(p)()?s($):s(p)()},{default:a(()=>[r(fe,{size:"32"})]),_:1},8,["to"]),r(b,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in e?e.useRuntimeConfig:s(H))().public.DEV_ENABLED&&("useRuntimeConfig"in e?e.useRuntimeConfig:s(H))().public.ENVIRONMENT==="local"?(o(),c(pe,{key:0,to:s(y),tertiary:"",w:"20",h:"20",icon:{name:"setting",size:12,color:"light"}},null,8,["to"])):f("",!0)]),_:1})]),_:1})):f("",!0)],64)):f("",!0)]),_:1})),[[k,i=>P.value=i.width]]),g((o(),c(b,{w:s(oe)?"60%":"100%",h:"100%"},{default:a(()=>[r(F,{fit:""},{default:a(()=>[r(b,{w:"100%",h:"100%",relative:""},{default:a(()=>[r(A,{x:"40"},{default:a(()=>[s(U)==="back"?(o(),W("div",Je,[g(r(T,{icon:"arrowLeft",size:"22",onClick:ue},null,512),[[k,i=>C.value=i.width]])])):f("",!0)]),_:1}),g((o(),c(b,{class:"headerWide-inner-centerLeftInfo","max-w":s(re),h:"100%"},{default:a(()=>[r(v,{align:"center",nowrap:"",fit:""},{default:a(()=>_[0]||(_[0]=[R("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[k,i=>z.value=i.width]]),R("div",Qe,[s(O)==="title"?(o(),c(v,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[r(_e,{caption1:"",bold:"",center:""},{default:a(()=>[je(Ee(t.title),1)]),_:1})]),_:1})):f("",!0),r(b,{h:s(O)?"0":"100%"},{default:a(()=>[r(v,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>_[1]||(_[1]=[R("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),r(A,{x:"40"},{default:a(()=>[s(V)==="menu"?(o(),W("div",Xe,[g(r(T,{icon:"menu",size:"22",onClick:x},null,512),[[k,i=>M.value=i.width+(n.menuNotice?16:0)]]),n.menuNotice?(o(),c(b,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):f("",!0)])):f("",!0),s(V)==="close"?g((o(),c(T,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:de},null,512)),[[k,i=>M.value=i.width]]):f("",!0)]),_:1}),g((o(),c(b,{class:"headerWide-centerRight"},{default:a(()=>[r(v,{justify:"end",align:"center",fit:""},{default:a(()=>_[2]||(_[2]=[R("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[k,i=>w.value=i.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[k,i=>j.value=i.width]]),g((o(),c(b,{w:S,"min-w":S,ml:"auto"},{default:a(()=>[r(v,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[r(v,{justify:"end",align:"center",fit:""},{default:a(()=>_[3]||(_[3]=[R("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),s(ie).includes("avatar")?(o(),W(G,{key:0},[s(B)?(o(),c(he,{key:0,onClick:x},{default:a(()=>[r(ge,{src:s(N),size:"28"},null,8,["src"])]),_:1})):f("",!0)],64)):f("",!0)]),_:1})]),_:1})),[[k,i=>E.value=i.width]])]),_:1})]),_:1})),[[k,i=>ne.value=i.width]])]),_:1},8,["class"])}}}),tt={class:"layoutDefault"},ft=Y({__name:"default",setup(n){const{above:l}=Le(),m=d(0),h=u(()=>Q().meta.page),y=u(()=>{var t;return((t=h.value)==null?void 0:t.type)||""}),$=u(()=>{var t;return((t=h.value)==null?void 0:t.isGenerateSetting)||!1}),p=u(()=>{var t;return((t=h.value)==null?void 0:t.header)||{}}),B=u(()=>p.value.title||p.value.back||p.value.close||p.value.logo||p.value.menu),N=u(()=>m.value+40);return(t,P)=>{const j=Z,E=J,z=Oe,w=X("resize");return o(),W("div",tt,[g((o(),c(E,{class:"layoutDefault-header"},{default:a(()=>[s(B)?(o(),c(et,Ue({key:0},s(p),{background:!1}),null,16)):f("",!0),s($)?(o(),c(j,{key:1,class:"layoutDefault-header-generateSetting",wide:"","no-padding":s(l)("l")},{default:a(()=>[r(Fe)]),_:1},8,["no-padding"])):f("",!0)]),_:1})),[[w,C=>m.value=C.height]]),r(z,{class:"layoutDefault-page","top-space":s(N),center:s(y)==="center","bottom-space":"80"},{default:a(()=>[Ve(t.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{ft as default};
