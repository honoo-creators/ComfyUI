import{_ as X}from"./ABfo3DAx.js";import{ab as Y,aH as Z,ak as o,al as k,c as h,a as e,w as l,H as ee,aI as ae,h as te,o as m,G as le,F as ne,ac as T,am as p,E as oe,u as a,an as R,ao as se,b as ue,x as ie,K as re,a6 as ce,Q as de,M as me,d as G,t as _e,J as fe,ai as ve,ah as pe,C as he}from"./D8LffgqG.js";import{_ as ye}from"./BCZN2g_F.js";const ge={class:"pageDevHttpRequestFetchClient"},be={key:0},$e={key:0},Ce={key:0},ke='{ "page": 1, "limit": 100 }',xe=Y({__name:"fetch-client",setup(Te){const{request:V}=Z(),n=o(""),u=o(""),_=o("GET"),i=o(null),r=o(null),f=o(!1),y=o(!1),v=o(!1),g=o(""),b=o(!1),w=o(!1),O=o(""),S=k(()=>!n.value&&v.value&&w.value),q=k(()=>[{name:"GET",click:()=>_.value="GET",current:_.value==="GET"},{name:"POST",click:()=>_.value="POST",current:_.value==="POST"}]),E=k(()=>n.value.startsWith(ae().public.API_URL)?{Authorization:`Bearer ${te().token.value}`}:{}),N=async()=>{_.value==="GET"?await P():await U()},U=async()=>{let s={};try{s=u.value?JSON.parse(u.value):{}}catch(t){await ve().error(new pe(he.ValidationError,"",`パラメータに問題があります。${t}`));return}try{i.value=null,r.value=null,f.value=!0,i.value=await V(n.value,{method:"POST",headers:E.value,body:s})}catch(t){r.value=t}finally{f.value=!1}},P=async()=>{try{i.value=null,r.value=null,f.value=!0;const s=u.value?JSON.parse(u.value):null;i.value=await V(n.value,{method:"GET",headers:E.value,body:s})}catch(s){r.value=s}finally{f.value=!1}},j=()=>{v.value=!1,g.value=""},J=s=>{v.value=!0,g.value=s},A=()=>{n.value="",u.value="",i.value=null,r.value=null};return(s,t)=>{const H=X,$=oe,x=ie,F=ue,L=se,c=ne,B=re,z=de,M=me,C=ce,I=ye,D=fe,W=_e,K=le,Q=ee;return m(),h("div",ge,[e(Q,null,{default:l(()=>[e(K,{justify:"stretch"},{default:l(()=>[e(c,{relative:""},{default:l(()=>[e($,{subheadline:"",extrabold:""},{default:l(()=>[e(H,{modelValue:a(n),"onUpdate:modelValue":t[0]||(t[0]=d=>R(n)?n.value=d:null),type:"text",name:"requestUrl",label:"Request URL",placeholder:"https://example.com/api",autocomplete:"",validation:"always",onFocus:t[1]||(t[1]=d=>y.value=!0),onBlur:t[2]||(t[2]=d=>y.value=!1),onValid:j,onInvalid:J},null,8,["modelValue"])]),_:1}),a(n)?(m(),T(c,{key:0,absolute:"",right:"0",top:"0",h:"100%"},{default:l(()=>[e(L,null,{default:l(()=>[e(F,{xsmall:"",minimal:"",disabled:a(f),onClick:A},{default:l(()=>[e(x,{name:"cross",size:"12"})]),_:1},8,["disabled"])]),_:1})]),_:1})):p("",!0)]),_:1}),e(B,{focus:a(y),invalid:a(v),message:a(g)},null,8,["focus","invalid","message"]),e(C,null,{default:l(()=>[a(n)&&!a(v)?(m(),h("div",be,[e(c,{h:"28"}),e(z,{list:a(q)},null,8,["list"]),e(c,{h:"8"}),e($,{caption1:""},{default:l(()=>[e(M,{modelValue:a(u),"onUpdate:modelValue":t[3]||(t[3]=d=>R(u)?u.value=d:null),name:"params",label:`Input ${a(_)==="GET"?"query":"body"}...`,rows:"5",placeholder:ke,onFocus:t[4]||(t[4]=d=>b.value=!0),onBlur:t[5]||(t[5]=d=>b.value=!1)},null,8,["modelValue","label"])]),_:1}),e(B,{focus:a(b),invalid:a(w),message:a(O),description:"json 形式で入力してください。"},null,8,["focus","invalid","message"]),e(c,{h:"40"}),e(F,{loading:a(f),disabled:a(S),w:"100%",onClick:N},{default:l(()=>t[6]||(t[6]=[G(" Request ")])),_:1},8,["loading","disabled"]),e(c,{h:"40"})])):p("",!0)]),_:1}),e(C,null,{default:l(()=>[a(n)&&!a(v)&&(a(i)||a(r))?(m(),h("div",$e,[e(c,{h:"48"}),a(i)?(m(),T(I,{key:0,title:"Response",lang:"json",code:JSON.stringify(a(i),null,4)},null,8,["code"])):p("",!0),a(r)?(m(),T(I,{key:1,title:"Error",lang:"json",code:JSON.stringify(a(r),null,4)},null,8,["code"])):p("",!0)])):p("",!0)]),_:1}),e(C,null,{default:l(()=>[a(n)?p("",!0):(m(),h("div",Ce,[e(c,{h:"28"}),e(W,{blank:"",to:"https://github.com/honoo-creators/honoo-technologies-ui/wiki/Fetch-Client"},{default:l(()=>[e(D,{justify:"end",align:"center",gap:"8",style:{opacity:".6"}},{default:l(()=>[e(x,{name:"question",size:"12"}),e($,{footnote:"",bold:""},{default:l(()=>t[7]||(t[7]=[G(' What is "Fetch Client" ? ')])),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1})])}}});export{xe as default};
