import{aa as b,af as i,ag as f,b0 as g,o as h,c as x,aD as E,aG as X,aV as Y}from"./CJQxQ-sn.js";const B=b({__name:"Draggable",props:{disabledX:{type:Boolean,default:!1},disabledY:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>({x:0,y:0})},calc:{type:Boolean,default:!1}},emits:["update:modelValue","dragging","endDrag"],setup(m,{emit:p}){const d=p,o=m,l=i(0),n=i(0),c=i(!1),a=f({get:()=>o.modelValue,set:e=>{d("update:modelValue",e)}}),y=f(()=>({_disabled:o.disabled})),v=e=>{o.disabled||(document.body.addEventListener("mousemove",r),document.body.addEventListener("touchmove",r),document.body.addEventListener("mouseup",t),document.body.addEventListener("touchend",t),"touches"in e?(l.value=e.touches[0].clientX-a.value.x,n.value=e.touches[0].clientY-a.value.y):(l.value=e.clientX-a.value.x,n.value=e.clientY-a.value.y),c.value=!0)},r=e=>{if(!c.value)return;let s,u;"touches"in e?(s=e.touches[0].clientX-l.value,u=e.touches[0].clientY-n.value):(s=e.clientX-l.value,u=e.clientY-n.value),o.disabledX&&(s=a.value.x),o.disabledY&&(u=a.value.y),a.value={x:s,y:u},d("dragging")},t=()=>{document.body.removeEventListener("mousemove",r),document.body.removeEventListener("mouseup",t),document.body.removeEventListener("mouseup",t),document.body.removeEventListener("touchend",t),c.value=!1,d("endDrag",{distanceX:a.value.x,distanceY:a.value.y})};return g(()=>{t()}),(e,s)=>(h(),x("div",{class:X(["draggable",y.value]),style:Y(m.calc?{}:{transform:`translate(${a.value.x}px, ${a.value.y}px)`}),onMousedown:v,onMouseup:t,onTouchstartPassive:v,onTouchend:t},[E(e.$slots,"default")],38))}});export{B as _};
