import{d as H,c as D,o as d,a as y,w as s,b as L,e as $,m as P,v as Z,r as R,f as q,n as W,u as ee,_ as S,g as k,h as b,i as Y,j as V,k as a,l as M,t as U,p as x,q as O,F as N,s as J,x as te,y as T,z as F,A as se,B as ae,C,D as oe,E as ne,G as z,H as le,I as ue,J as re,K as de,L as ce,M as G,N as ie,O as me,P as fe,Q as B,R as pe,S as _e,T as ve,U as ye,V as ge,W as Q,X as he}from"./Dh9AkNtL.js";import{_ as be}from"./D-7IUBTx.js";const we=["id"],$e=["for"],I=H({__name:"Switch",props:{name:{type:String,default:"switch",required:!0},modelValue:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(m,{emit:h}){const r=m,l=h,f=D(()=>({_checked:u.value,_disabled:r.disabled,_readonly:r.readonly})),p=D(()=>`switch-${r.name}`),u=D({get:()=>r.modelValue,set:_=>{l("update:modelValue",_)}}),n=D(()=>!!ee().default);return(_,i)=>{const v=S,t=k;return d(),y(t,{class:W(["switch",f.value]),gap:"8",align:"start"},{default:s(()=>[L($("input",P({id:p.value,"onUpdate:modelValue":i[0]||(i[0]=e=>u.value=e),type:"checkbox",class:"switch-input"},{disabled:m.disabled,readonly:m.readonly,name:m.name}),null,16,we),[[Z,u.value]]),$("label",{for:p.value,class:"switch-handle"},null,8,$e),n.value?(d(),y(v,{key:0,tag:"label",for:p.value,class:"switch-label",caption2:""},{default:s(()=>[R(_.$slots,"default")]),_:3},8,["for"])):q("",!0)]),_:3},8,["class"])}}}),Se={class:"devMenu"},K=H({__name:"DevMenu",props:{name:{type:String,default:""},open:{type:Boolean,default:!1},children:{type:Array,default:()=>[]}},setup(m){const h=m,r=b(h.open),l=b(0),f=D(()=>h.children.length>0),p=()=>{f.value&&(r.value=!r.value)},u=n=>"children"in n;return(n,_)=>{const i=K,v=Y("resize");return d(),V("div",Se,[a(k,{class:"devMenu-header",justify:"between",align:"center",gap:"8",onClick:p},{default:s(()=>[a(S,{class:"devMenu-header-txt",body:"",bold:"",lineclamp:"1"},{default:s(()=>[M(U(m.name),1)]),_:1}),f.value?(d(),y(x,{key:0,class:"devMenu-header-icon",name:r.value?"arrowUp":"arrowDown",size:"10"},null,8,["name"])):q("",!0)]),_:1}),a(O,{h:l.value},{default:s(()=>[a(be,null,{default:s(()=>[f.value?L((d(),y(O,{key:0,class:"devMenu-children"},{default:s(()=>[(d(!0),V(N,null,J(m.children,(t,e)=>(d(),V(N,{key:`devMenu-children-item-${e}`},[u(t)?(d(),y(i,P({key:0,ref_for:!0},t),null,16)):(d(),y(te,{key:1,class:"devMenu-children-item","active-class":"_current",to:{name:t.page}},{default:s(()=>[a(S,{caption1:"",bold:"",lineclamp:"1"},{default:s(()=>[M(U(t.name),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})),[[T,r.value],[v,t=>l.value=t.height]]):q("",!0)]),_:1})]),_:1},8,["h"])])}}}),ke={class:"devHeader-menus"},Me={class:"devHeader-menus-inner-list"},Ce=H({__name:"DevHeader",props:F({close:{type:Boolean,default:!1}},{showMenu:{type:Boolean,required:!1},showMenuModifiers:{}}),emits:F(["close","darkmode","sizeAuto"],["update:showMenu"]),setup(m,{emit:h}){const r=se(),l=ae(m,"showMenu"),f=h,p=b(C().darkmode.value),u=b(C().sizeType.value==="auto"),n=b(""),_=oe().getRoutes(),i=b([]),v=()=>{const t=_,e=me().path.value,o={name:"Dev",children:[],open:!1};t.forEach(c=>{if(!c.path.startsWith(e))return;const g=c.path.replace(e,"").split("/").filter(w=>w.length>0);let E=o;g.forEach((w,X)=>{if(X===g.length-1)E.children.push({name:w.charAt(0).toUpperCase()+w.slice(1).replace(/-/g," "),page:c.name});else{let A=E.children.find(j=>"children"in j&&j.name.toLowerCase()===w);A||(A={name:w.charAt(0).toUpperCase()+w.slice(1),children:[],open:!1},E.children.push(A)),E=A}})}),i.value=o.children.filter(c=>"children"in c&&"open"in c&&!("page"in c))};return ne(()=>{const t=r.name;for(const e of i.value)for(const o of e.children)o.page===t&&(e.open=!0,n.value=o.name)}),z(()=>r.path,t=>{l.value=!1},{immediate:!0}),z(()=>p.value,t=>{C().setDarkmode(t),f("darkmode",t)}),z(()=>u.value,t=>{t?C().setSizeType("auto"):C().setSizeType("px"),f("sizeAuto",t)}),le(()=>{v()}),(t,e)=>(d(),y(ie,{class:"devHeader",full:"","no-padding":""},{default:s(()=>[a(ue,null,{left:s(()=>[R(t.$slots,"left")]),center:s(()=>[a(S,{body:"",bold:""},{default:s(()=>[a(k,{class:"devHeader-title",gap:"8",justify:"center",align:"center",onClick:e[0]||(e[0]=o=>l.value=!l.value)},{default:s(()=>[M(U(n.value)+" ",1),a(x,{name:"arrowDown",size:"10"})]),_:1})]),_:1})]),right:s(()=>[m.close?(d(),y(x,{key:0,name:"cross",size:"20",onClick:e[1]||(e[1]=o=>f("close"))})):q("",!0)]),_:3}),a(re,null,{default:s(()=>[L(a(de,{class:"devHeader-overlay",soft:"",onClick:e[2]||(e[2]=o=>l.value=!1)},null,512),[[T,l.value]])]),_:1}),a(ce,{y:"-20"},{default:s(()=>[L($("div",ke,[a(G,{class:"devHeader-menus-inner"},{default:s(()=>[$("div",Me,[(d(!0),V(N,null,J(i.value,(o,c)=>(d(),y(K,P({key:`global-${c}`,class:"devHeader-menus-inner-list-item",ref_for:!0},o),null,16))),128))]),a(G,{class:"devHeader-menus-inner-mode",gap:"8"},{default:s(()=>[R(t.$slots,"footer"),a(k,{justify:"between",align:"center",nowrap:""},{default:s(()=>[a(S,{body:"",bold:""},{default:s(()=>e[5]||(e[5]=[M(" Darkmode ")])),_:1}),$("div",null,[a(I,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),name:"devDarkmode"},null,8,["modelValue"])])]),_:1}),a(k,{justify:"between",align:"center",nowrap:""},{default:s(()=>[a(S,{body:"",bold:""},{default:s(()=>e[6]||(e[6]=[M(" SizeType Auto ")])),_:1}),$("div",null,[a(I,{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=o=>u.value=o),name:"devSizetype"},null,8,["modelValue"])])]),_:1})]),_:3})]),_:3})],512),[[T,l.value]])]),_:3})]),_:3}))}}),De={class:"pageDev"},Le=H({__name:"dev",setup(m){const h=fe(),r=b(0),l=b(!1),f=()=>{_e().push(ve().DASHBOARD)},p=()=>{var u,n,_,i,v,t,e,o,c,g;(u=document.querySelector("body > .comfyui-body-top"))==null||u.classList.toggle("_show"),(n=document.querySelector("body > .comfyui-body-right"))==null||n.classList.toggle("_show"),(_=document.querySelector("body > .comfyui-body-bottom"))==null||_.classList.toggle("_show"),(i=document.querySelector("body > .comfyui-body-left"))==null||i.classList.toggle("_show"),(v=document.querySelector("body > .comfy-menu"))==null||v.classList.toggle("_show"),(t=document.querySelector("body > .graph-canvas-container"))==null||t.classList.toggle("_show"),(e=document.querySelector("body > .pysssss-image-feed"))==null||e.classList.toggle("_show"),(o=document.querySelector("body > .p-toast"))==null||o.classList.toggle("_show"),(c=document.querySelector("body > #vue-app"))==null||c.classList.toggle("_show"),Q().public.COMFYUI_GENERATE_ENABLED||(g=document.querySelector(".queue-button-group"))==null||g.classList.toggle("_disabled")};return z(()=>l.value,u=>{p(),u&&!Q().public.COMFYUI_GENERATE_ENABLED&&he().open({name:"message",options:{icon:"prohibited",title:"Queue Disabled",content:"この環境は画像生成が許可されていません。<br />ご注意ください。"}})}),z(()=>r.value,u=>{var n;(n=document.querySelector("body > .comfyui-body-top"))==null||n.style.setProperty("top",`${u}px`)}),(u,n)=>{const _=S,i=I,v=k,t=Ce,e=ye,o=ge,c=Y("resize");return d(),V("div",De,[B(h).path.includes("login")?q("",!0):L((d(),y(t,{key:0,class:"pageDev-menu",close:"",onClose:f},{footer:s(()=>[a(v,{justify:"between",align:"center",nowrap:""},{default:s(()=>[a(_,{body:"",bold:""},{default:s(()=>n[1]||(n[1]=[M(" Show ComfyUI ")])),_:1}),$("div",null,[a(i,{modelValue:B(l),"onUpdate:modelValue":n[0]||(n[0]=g=>pe(l)?l.value=g:null),name:"showComfyUI"},null,8,["modelValue"])])]),_:1})]),_:1})),[[c,g=>r.value=g.height]]),a(o,{class:W(["pageDev-pages",{_hide:B(l)}]),center:"","top-space":B(r),"bottom-space":"50"},{default:s(()=>[a(e)]),_:1},8,["class","top-space"])])}}});export{Le as default};
