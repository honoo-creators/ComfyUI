import{ab as F,af as fe,h as me,m as pe,bf as _e,ag as g,ah as l,ai as r,o as s,I as ge,aE as he,w as a,aF as f,G as q,a as o,E as Z,c as W,aj as c,u as n,aP as H,r as be,ad as J,l as ve,az as O,aT as K,aG as w,a7 as ke,M as we,D as ye,d as We,as as Re,t as Se,q as Ce,a_ as A,bj as Ie,aZ as Be,bk as $e,e as Ne,bl as ze,H as Me,an as Te,aa as De}from"./C7kXV4sk.js";import{_ as Ee}from"./4DtupE-x.js";import{_ as Le}from"./Bv0hqKet.js";import{_ as Ue}from"./BLDkl3kR.js";import"./CMQMZmgY.js";import"./BNvK3FjF.js";import"./D9y4rEeW.js";import"./Dsye9vED.js";import"./CznGJ80I.js";import"./73kVofzZ.js";const Ve={key:0,class:"headerWide-inner-centerLeftUI"},je={class:"headerWide-inner-center"},Pe={key:0,class:"headerWide-inner-centerRightUI"},y=110,xe=F({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(v){const{isPureNumber:R}=Be(),{replace:h,go:b}=fe(),{DEV:C,ROOT:I,dashboard:u}=ve(),{loggedIn:B}=me(),{face:$}=pe(_e()),t=v,E=g(0),N=g(0),z=g(0),M=g(0),k=g(0),S=g(0),T=g(0),Q=g(0),X=l(()=>k.value>0),Y=l(()=>{const d=y*2+Number(A().getVariable("maxWidth","wide"))-480;return Ie().width.value<=d}),ee=l(()=>`calc(100% - ${A().getSize(S.value+(T.value||k.value))})`),L=l(()=>{let e="";return!V.value&&t.back?e="back":e="logo",e}),te=l(()=>{const e=[];return t.back||t.avatar&&e.push("avatar"),e}),U=l(()=>{let e="";return t.title?e="title":t.back||t.globalMenu&&(e="globalMenu"),e}),V=l(()=>{let e="";return t.back&&(e="back"),e}),j=l(()=>{let e="";return X.value?e="button":t.menu?e="menu":t.close&&(e="close"),e}),ae=l(()=>{let e="";return R(String(t.back))?parseInt(String(t.back))>0&&(e="go"):String(t.back)&&(e="replace"),e}),ne=l(()=>{let e="";return R(String(t.close))?parseInt(String(t.close))>0&&(e="go"):String(t.close)&&(e="replace"),e}),se=()=>{if($e().isPrevRoute)switch(ae.value){case"go":b(-1*parseInt(String(t.back)));break;case"replace":h(String(t.back));break}else h(u())},oe=()=>{switch(ne.value){case"go":b(-1*parseInt(String(t.close)));break;case"replace":h(String(t.close));break}},P=()=>{typeof t.menu=="function"?t.menu():Ne().open({name:"myMenu",from:"right"})};return(e,d)=>{const ie=Ee,re=be,le=Le,m=Z,p=ge,D=we,x=ke,ce=ye,G=q,ue=Ce,de=Se,_=K("resize");return s(),r(p,{tag:"header",class:he(["headerWide",{_background:v.background}]),align:"center",nowrap:""},{default:a(()=>[f((s(),r(G,{class:"headerWide-inner",wide:""},{default:a(()=>[o(p,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[f((s(),r(m,{w:y,"min-w":y,mr:"auto"},{default:a(()=>[n(L)?(s(),W(H,{key:0},[n(L)==="logo"?(s(),r(p,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[o(re,{to:("useRoute"in e?e.useRoute:n(J))().path===n(u)()?n(I):n(u)()},{default:a(()=>[o(ie,{size:"32"})]),_:1},8,["to"]),o(m,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in e?e.useRuntimeConfig:n(O))().public.DEV_ENABLED&&("useRuntimeConfig"in e?e.useRuntimeConfig:n(O))().public.ENVIRONMENT==="local"?(s(),r(le,{key:0,to:n(C),tertiary:"",w:"20",h:"20",icon:{name:"setting",size:12,color:"light"}},null,8,["to"])):c("",!0)]),_:1})]),_:1})):c("",!0)],64)):c("",!0)]),_:1})),[[_,i=>E.value=i.width]]),f((s(),r(m,{w:n(Y)?"60%":"100%",h:"100%"},{default:a(()=>[o(G,{fit:""},{default:a(()=>[o(m,{w:"100%",h:"100%",relative:""},{default:a(()=>[o(x,{x:"40"},{default:a(()=>[n(V)==="back"?(s(),W("div",Ve,[f(o(D,{icon:"arrowLeft",size:"22",onClick:se},null,512),[[_,i=>S.value=i.width]])])):c("",!0)]),_:1}),f((s(),r(m,{class:"headerWide-inner-centerLeftInfo","max-w":n(ee),h:"100%"},{default:a(()=>[o(p,{align:"center",nowrap:"",fit:""},{default:a(()=>d[0]||(d[0]=[w("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[_,i=>M.value=i.width]]),w("div",je,[n(U)==="title"?(s(),r(p,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[o(ce,{caption1:"",bold:"",center:""},{default:a(()=>[We(Re(t.title),1)]),_:1})]),_:1})):c("",!0),o(m,{h:n(U)?"0":"100%"},{default:a(()=>[o(p,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>d[1]||(d[1]=[w("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),o(x,{x:"40"},{default:a(()=>[n(j)==="menu"?(s(),W("div",Pe,[f(o(D,{icon:"menu",size:"22",onClick:P},null,512),[[_,i=>T.value=i.width+(v.menuNotice?16:0)]]),v.menuNotice?(s(),r(m,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):c("",!0)])):c("",!0),n(j)==="close"?f((s(),r(D,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:oe},null,512)),[[_,i=>T.value=i.width]]):c("",!0)]),_:1}),f((s(),r(m,{class:"headerWide-centerRight"},{default:a(()=>[o(p,{justify:"end",align:"center",fit:""},{default:a(()=>d[2]||(d[2]=[w("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[_,i=>k.value=i.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[_,i=>N.value=i.width]]),f((s(),r(m,{w:y,"min-w":y,ml:"auto"},{default:a(()=>[o(p,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[o(p,{justify:"end",align:"center",fit:""},{default:a(()=>d[3]||(d[3]=[w("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),n(te).includes("avatar")?(s(),W(H,{key:0},[n(B)?(s(),r(de,{key:0,onClick:P},{default:a(()=>[o(ue,{src:n($),size:"28"},null,8,["src"])]),_:1})):c("",!0)],64)):c("",!0)]),_:1})]),_:1})),[[_,i=>z.value=i.width]])]),_:1})]),_:1})),[[_,i=>Q.value=i.width]])]),_:1},8,["class"])}}}),Ge={class:"layoutDefault"},Ye=F({__name:"default",setup(v){const{above:R}=ze(),h=g(0),b=l(()=>J().meta.page),C=l(()=>{var t;return((t=b.value)==null?void 0:t.type)||""}),I=l(()=>{var t;return((t=b.value)==null?void 0:t.isGenerateSetting)||!1}),u=l(()=>{var t;return((t=b.value)==null?void 0:t.header)||{}}),B=l(()=>u.value.title||u.value.back||u.value.close||u.value.logo||u.value.menu),$=l(()=>h.value+40);return(t,E)=>{const N=q,z=Z,M=Me,k=K("resize");return s(),W("div",Ge,[f((s(),r(z,{class:"layoutDefault-header"},{default:a(()=>[n(B)?(s(),r(xe,Te({key:0},n(u),{background:!1}),null,16)):c("",!0),n(I)?(s(),r(N,{key:1,class:"layoutDefault-header-generateSetting",wide:"","no-padding":n(R)("l")},{default:a(()=>[o(Ue)]),_:1},8,["no-padding"])):c("",!0)]),_:1})),[[k,S=>h.value=S.height]]),o(M,{class:"layoutDefault-page","top-space":n($),center:n(C)==="center","bottom-space":"80"},{default:a(()=>[De(t.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{Ye as default};
