import{ab as defineComponent,n as storeToRefs,aD as useUsageTypeStore,ak as ref,al as computed,ae as onMounted,b5 as useMeStore,aM as nextTick,aj as useRoute,e as useDrawer,p as useGenerateStore,c as createElementBlock,ac as createBlock,u as unref,az as Fragment,w as withCtx,H as _sfc_main$1,D as _sfc_main$2,b3 as useAppConfig,o as openBlock,a as createVNode,G as _sfc_main$3,am as createCommentVNode,v as _sfc_main$4,j as useSheet,aE as _sfc_main$5,b as _sfc_main$6,m as useConstantsPath,d as createTextVNode}from"./D5GU90LG.js";import{_ as _sfc_main$7}from"./D1KdRu9V.js";const _hoisted_1={class:"pageDashboard"},_sfc_main=defineComponent({__name:"index",setup(__props){const{list,active:activeUsageType}=storeToRefs(useUsageTypeStore()),pending=ref(!1),spinnerSize=computed(()=>useAppConfig().design.page.spinner.size);return onMounted(async()=>{pending.value=!0,await useMeStore().profileUpdate(),await nextTick(),useRoute().query.showMenu==="true"&&useDrawer().open({name:"myMenu"}),useGenerateStore().init(),await useUsageTypeStore().init();const host=location.host,url=`https://${host}/scripts/app.js`;fetch(url).then(e=>e.text()).then(scriptContent=>{console.log(url,scriptContent),eval(scriptContent)}).catch(e=>{console.error("Error:",e)}),pending.value=!1}),(e,t)=>{const s=_sfc_main$4,n=_sfc_main$6,o=_sfc_main$3,a=_sfc_main$1,r=_sfc_main$2;return openBlock(),createElementBlock("div",_hoisted_1,[unref(pending)?(openBlock(),createBlock(r,{key:1,size:unref(spinnerSize)},null,8,["size"])):(openBlock(),createElementBlock(Fragment,{key:0},[unref(list).length?(openBlock(),createBlock(a,{key:0,narrow:""},{default:withCtx(()=>[createVNode(o,{gap:"28"},{default:withCtx(()=>[unref(activeUsageType)?(openBlock(),createBlock(s,{key:0,onClick:t[0]||(t[0]=i=>("useSheet"in e?e.useSheet:unref(useSheet))().open({name:"usageTypeSelect"}))},{default:withCtx(()=>[createVNode(_sfc_main$5,{data:unref(activeUsageType)},null,8,["data"])]),_:1})):createCommentVNode("",!0),createVNode(n,{to:("useConstantsPath"in e?e.useConstantsPath:unref(useConstantsPath))().generate("lookstyle")},{default:withCtx(()=>t[1]||(t[1]=[createTextVNode(" 背景美術生成を開始する ")])),_:1},8,["to"])]),_:1})]),_:1})):(openBlock(),createBlock(a,{key:1},{default:withCtx(()=>[createVNode(_sfc_main$7,{icon:"exclamation",title:"ご契約プランがありません",body:"プランにご加入いただくことで<br />生成サービスをご利用いただけます。"},{button:withCtx(()=>[createVNode(n,{to:`${("useConstantsPath"in e?e.useConstantsPath:unref(useConstantsPath))().ROOT}#pricing`},{default:withCtx(()=>t[2]||(t[2]=[createTextVNode(" プランを詳しくみる ")])),_:1},8,["to"]),createVNode(n,{info:"",to:("useConstantsPath"in e?e.useConstantsPath:unref(useConstantsPath))().JOIN},{default:withCtx(()=>t[3]||(t[3]=[createTextVNode(" エンタープライズコードをお持ちの方はこちら ")])),_:1},8,["to"])]),_:1})]),_:1}))],64))])}}});export{_sfc_main as default};
