import{d as L,e as J,b as Ee,i as X,j as Re,r as y,k as d,Q as Z,g as s,p as o,w as a,R as v,h as i,l as e,f as T,ag as F,t as l,N as K,G as $,q as ee,H as te,ad as ae,c as g,as as Q,ax as Te,ay as Ne,ab as Ae,A as $e,K as Ie,D as Ce,_ as ne,B as We,az as Le,aA as Me,z as se,F as re,E as Pe,at as Be,a9 as Y,I as ie,m as oe,L as Ge,ac as Oe,a0 as q,u as le,aB as ze,aC as De,x as xe}from"./WHSOQWA4.js";import{_ as Ue}from"./CJ_G2etx.js";import{_ as Ve,a as je,b as G}from"./BdRxTk9U.js";import"./Dy8Ia0_c.js";import"./DfZwukZZ.js";import"./BcNIklcX.js";const He={key:0,class:"headerWide-inner-centerLeftUI"},Fe={class:"headerWide-inner-center"},Ke={key:0,class:"headerWide-inner-centerRightUI"},I=110,Qe=L({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1}},setup(p){const{isPureNumber:m}=Be(),{replace:_,go:f}=J(),{DEV:k,dashboard:h}=g(),{loggedIn:r}=Ee(),{face:R}=X(Re()),t=p,u=y(0),O=y(0),M=y(0),P=y(0),N=y(0),W=y(0),A=y(0),ue=y(0),ce=d(()=>N.value>0),de=d(()=>{const b=I*2+Number(Q().getVariable("maxWidth","wide"))-480;return Te().width.value<=b}),fe=d(()=>`calc(100% - ${Q().getSize(W.value+(A.value||N.value))})`),z=d(()=>{let n="";return!x.value&&t.back?n="back":n="logo",n}),_e=d(()=>{const n=[];return t.back||t.avatar&&n.push("avatar"),n}),D=d(()=>{let n="";return t.title?n="title":t.back||t.globalMenu&&(n="globalMenu"),n}),x=d(()=>{let n="";return t.back&&(n="back"),n}),U=d(()=>{let n="";return ce.value?n="button":t.menu?n="menu":t.close&&(n="close"),n}),me=d(()=>{let n="";return m(String(t.back))?parseInt(String(t.back))>0&&(n="go"):String(t.back)&&(n="replace"),n}),pe=d(()=>{let n="";return m(String(t.close))?parseInt(String(t.close))>0&&(n="go"):String(t.close)&&(n="replace"),n}),ge=()=>{if(Ne().isPrevRoute)switch(me.value){case"go":f(-1*parseInt(String(t.back)));break;case"replace":_(String(t.back));break}else _(h())},he=()=>{switch(pe.value){case"go":f(-1*parseInt(String(t.close)));break;case"replace":_(String(t.close));break}},V=()=>{typeof t.menu=="function"?t.menu():Ae().open({name:"myMenu",from:"right"})};return(n,b)=>{const be=Ue,ve=$e,ye=Ie,ke=Ce,w=ne,S=We,B=Le,j=Me,we=se,H=re,Se=Pe,E=Z("resize");return s(),o(S,{tag:"header",class:"headerWide",align:"center",nowrap:""},{default:a(()=>[v((s(),o(H,{class:"headerWide-inner",wide:""},{default:a(()=>[i(S,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[v((s(),o(w,{w:I,"min-w":I,mr:"auto"},{default:a(()=>[e(z)?(s(),T(K,{key:0},[e(z)==="logo"?(s(),o(S,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[i(ve,{to:e(h)()},{default:a(()=>[i(be,{size:"32"})]),_:1},8,["to"]),i(w,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in n?n.useRuntimeConfig:e(F))().public.DEV_ENABLED&&("useRuntimeConfig"in n?n.useRuntimeConfig:e(F))().public.ENVIRONMENT==="local"?(s(),o(ke,{key:0,to:e(k),secondary:"",w:"20",h:"20"},{default:a(()=>[i(ye,{name:"setting",size:"12",color:"light"})]),_:1},8,["to"])):l("",!0)]),_:1})]),_:1})):l("",!0)],64)):l("",!0)]),_:1})),[[E,c=>u.value=c.width]]),v((s(),o(w,{w:e(de)?"60%":"100%",h:"100%"},{default:a(()=>[i(H,{fit:""},{default:a(()=>[i(w,{w:"100%",h:"100%",relative:""},{default:a(()=>[i(j,{x:"40"},{default:a(()=>[e(x)==="back"?(s(),T("div",He,[v(i(B,{icon:"arrowLeft",size:"22",onClick:ge},null,512),[[E,c=>W.value=c.width]])])):l("",!0)]),_:1}),v((s(),o(w,{class:"headerWide-inner-centerLeftInfo","max-w":e(fe),h:"100%"},{default:a(()=>[i(S,{align:"center",nowrap:"",fit:""},{default:a(()=>b[0]||(b[0]=[$("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[E,c=>P.value=c.width]]),$("div",Fe,[e(D)==="title"?(s(),o(S,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[i(we,{caption1:"",bold:"",center:""},{default:a(()=>[ee(te(t.title),1)]),_:1})]),_:1})):l("",!0),i(w,{h:e(D)?"0":"100%"},{default:a(()=>[i(S,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>b[1]||(b[1]=[$("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),i(j,{x:"40"},{default:a(()=>[e(U)==="menu"?(s(),T("div",Ke,[v(i(B,{icon:"menu",size:"22",onClick:V},null,512),[[E,c=>A.value=c.width+(p.menuNotice?16:0)]]),p.menuNotice?(s(),o(w,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):l("",!0)])):l("",!0),e(U)==="close"?v((s(),o(B,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:he},null,512)),[[E,c=>A.value=c.width]]):l("",!0)]),_:1}),v((s(),o(w,{class:"headerWide-centerRight"},{default:a(()=>[i(S,{justify:"end",align:"center",fit:""},{default:a(()=>b[2]||(b[2]=[$("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[E,c=>N.value=c.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[E,c=>O.value=c.width]]),v((s(),o(w,{w:I,"min-w":I,ml:"auto"},{default:a(()=>[i(S,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[i(S,{justify:"end",align:"center",fit:""},{default:a(()=>b[3]||(b[3]=[$("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),e(_e).includes("avatar")?(s(),T(K,{key:0},[e(r)?(s(),o(ae,{key:0,onClick:V},{default:a(()=>[i(Se,{src:e(R),size:"28"},null,8,["src"])]),_:1})):l("",!0)],64)):l("",!0)]),_:1})]),_:1})),[[E,c=>M.value=c.width]])]),_:1})]),_:1})),[[E,c=>ue.value=c.width]])]),_:1})}}}),Ye={key:1,class:"generateSettingItem-content"},C=L({__name:"GenerateSettingItem",props:{name:{type:String,default:""},current:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isSet:{type:Boolean,default:!1}},setup(p){const m=p,_=d(()=>({_current:m.current,_hasSlot:m.isSet&&Y().default}));return(f,k)=>{const h=se,r=Ge;return s(),o(ae,oe({class:["generateSettingItem",e(_)]},{disabled:p.disabled}),{default:a(()=>[p.isSet?l("",!0):(s(),o(r,{key:0},{default:a(()=>[i(h,{subheadline:"",bold:"",center:"",unselectable:""},{default:a(()=>[ee(te(p.name),1)]),_:1})]),_:1})),p.isSet&&("useSlots"in f?f.useSlots:e(Y))().default?(s(),T("div",Ye,[ie(f.$slots,"default")])):l("",!0)]),_:3},16,["class"])}}}),qe={class:"generateSettingList"},Je=L({__name:"GenerateSettingList",setup(p){const{lookStyle:m,base64:_,promptScene:f,promptMood:k,promptLighting:h}=X(Oe()),r=y(0);return q(()=>r.value,R=>{let t="";switch(R){case 0:t=g().GENERATE_LOOKSTYLE;break;case 1:t=g().GENERATE_UPLOAD;break;case 2:t=g().GENERATE_PROMPT_SCENE;break;case 3:t=g().GENERATE_PROMPT_MOOD;break;case 4:t=g().GENERATE_PROMPT_LIGHTING;break}J().push(t)}),q(()=>le().path,R=>{switch(R){case g().GENERATE_LOOKSTYLE:r.value=0;break;case g().GENERATE_UPLOAD:r.value=1;break;case g().GENERATE_PROMPT_SCENE:r.value=2;break;case g().GENERATE_PROMPT_MOOD:r.value=3;break;case g().GENERATE_PROMPT_LIGHTING:r.value=4;break}}),(R,t)=>(s(),T("div",qe,[i(C,{name:"背景美術スタイル",current:e(r)===0,"is-set":e(m)!==null,onClick:t[0]||(t[0]=u=>r.value=0)},{default:a(()=>[e(m)!==null?(s(),o(Ve,{key:0,data:e(m),fit:""},null,8,["data"])):l("",!0)]),_:1},8,["current","is-set"]),i(C,{name:"原図データ",current:e(r)===1,"is-set":e(_)!=="",disabled:!e(m),onClick:t[1]||(t[1]=u=>r.value=1)},{default:a(()=>[e(_)!==""?(s(),o(je,{key:0,data:e(_),fit:""},null,8,["data"])):l("",!0)]),_:1},8,["current","is-set","disabled"]),i(C,{name:"シーン構成",current:e(r)===2,"is-set":Array.isArray(e(f)),disabled:!e(_),onClick:t[2]||(t[2]=u=>r.value=2)},{default:a(()=>[Array.isArray(e(f))?(s(),o(G,{key:0,name:"シーン構成",data:e(f)},null,8,["data"])):l("",!0)]),_:1},8,["current","is-set","disabled"]),i(C,{name:"色調・ムード",current:e(r)===3,"is-set":Array.isArray(e(k)),disabled:e(f)===null,onClick:t[3]||(t[3]=u=>r.value=3)},{default:a(()=>[Array.isArray(e(k))?(s(),o(G,{key:0,name:"色調・ムード",data:e(k)},null,8,["data"])):l("",!0)]),_:1},8,["current","is-set","disabled"]),i(C,{name:"ライティング",current:e(r)===4,"is-set":Array.isArray(e(h)),disabled:e(k)===null,onClick:t[4]||(t[4]=u=>r.value=4)},{default:a(()=>[Array.isArray(e(h))?(s(),o(G,{key:0,name:"ライティング",data:e(h)},null,8,["data"])):l("",!0)]),_:1},8,["current","is-set","disabled"])]))}}),Xe={class:"layoutDefault"},rt=L({__name:"default",setup(p){const{isScreenSizeAbove:m}=xe(),_=y(0),f=d(()=>le().meta.page),k=d(()=>{var u;return((u=f.value)==null?void 0:u.type)||""}),h=d(()=>{var u;return((u=f.value)==null?void 0:u.isGenerateSetting)||!1}),r=d(()=>{var u;return((u=f.value)==null?void 0:u.header)||{}}),R=d(()=>r.value.title||r.value.back||r.value.close||r.value.logo||r.value.menu),t=d(()=>_.value);return(u,O)=>{const M=re,P=ne,N=ze,W=Z("resize");return s(),T("div",Xe,[v((s(),o(P,{class:"layoutDefault-header"},{default:a(()=>[e(R)?(s(),o(Qe,De(oe({key:0},e(r))),null,16)):l("",!0),e(h)?(s(),o(M,{key:1,wide:"","no-padding":e(m)("l")},{default:a(()=>[i(Je)]),_:1},8,["no-padding"])):l("",!0)]),_:1})),[[W,A=>_.value=A.height]]),i(N,{class:"layoutDefault-page","top-space":e(t),center:e(k)==="center","bottom-space":"80"},{default:a(()=>[ie(u.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{rt as default};
