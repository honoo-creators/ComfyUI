import{_ as K}from"./DK5L4GVJ.js";import{d as Q,aq as X,x as o,h as k,f as m,g as h,z as e,w as l,Y as a,Z as q,i as T,l as v,A as I,ar as ee,as as ae,C as te,_ as le,D as ne,a2 as oe,a6 as se,E as ue,a7 as ie,at as re,au as ce,t as de,H as me,U as _e,V as fe,$ as pe,b as ve}from"./Dgu-BcZp.js";import{_ as he}from"./_-VJ-hcN.js";import{_ as ye}from"./Bzvq16Xr.js";const ge={class:"pageDevHttpRequestFetchClient"},be={key:0},$e={key:0},Ce={key:0},ke='{ "page": 1, "limit": 100 }',Fe=Q({__name:"fetch-client",setup(Te){const{request:V}=X(),n=o(""),u=o(""),_=o("GET"),i=o(null),r=o(null),f=o(!1),y=o(!1),p=o(!1),g=o(""),b=o(!1),w=o(!1),O=o(""),S=k(()=>!n.value&&p.value&&w.value),U=k(()=>[{name:"GET",click:()=>_.value="GET",current:_.value==="GET"},{name:"POST",click:()=>_.value="POST",current:_.value==="POST"}]),E=k(()=>n.value.startsWith(pe().public.API_URL)?{Authorization:`Bearer ${ve().token.value}`}:{}),G=async()=>{_.value==="GET"?await P():await N()},N=async()=>{let s={};try{s=u.value?JSON.parse(u.value):{}}catch(t){await ee().error(new ae(te.ValidationError,"",`パラメータに問題があります。${t}`));return}try{i.value=null,r.value=null,f.value=!0,i.value=await V(n.value,{method:"POST",headers:E.value,body:s})}catch(t){r.value=t}finally{f.value=!1}},P=async()=>{try{i.value=null,r.value=null,f.value=!0;const s=u.value?JSON.parse(u.value):null;i.value=await V(n.value,{method:"GET",headers:E.value,body:s})}catch(s){r.value=s}finally{f.value=!1}},j=()=>{p.value=!1,g.value=""},A=s=>{p.value=!0,g.value=s},z=()=>{n.value="",u.value="",i.value=null,r.value=null};return(s,t)=>{const J=K,$=le,x=ne,F=oe,L=se,c=ue,B=ie,D=re,H=ce,C=he,R=ye,M=de,W=me,Y=_e,Z=fe;return m(),h("div",ge,[e(Z,null,{default:l(()=>[e(Y,{justify:"stretch"},{default:l(()=>[e(c,{relative:""},{default:l(()=>[e($,{subheadline:"",extrabold:""},{default:l(()=>[e(J,{modelValue:a(n),"onUpdate:modelValue":t[0]||(t[0]=d=>q(n)?n.value=d:null),type:"text",name:"requestUrl",label:"Request URL",placeholder:"https://example.com/api",autocomplete:"",validation:"always",onFocus:t[1]||(t[1]=d=>y.value=!0),onBlur:t[2]||(t[2]=d=>y.value=!1),onValid:j,onInvalid:A},null,8,["modelValue"])]),_:1}),a(n)?(m(),T(c,{key:0,absolute:"",right:"0",top:"0",h:"100%"},{default:l(()=>[e(L,null,{default:l(()=>[e(F,{xsmall:"",minimal:"",disabled:a(f),onClick:z},{default:l(()=>[e(x,{name:"cross",size:"12"})]),_:1},8,["disabled"])]),_:1})]),_:1})):v("",!0)]),_:1}),e(B,{focus:a(y),invalid:a(p),message:a(g)},null,8,["focus","invalid","message"]),e(C,null,{default:l(()=>[a(n)&&!a(p)?(m(),h("div",be,[e(c,{h:"28"}),e(D,{list:a(U)},null,8,["list"]),e(c,{h:"8"}),e($,{caption1:""},{default:l(()=>[e(H,{modelValue:a(u),"onUpdate:modelValue":t[3]||(t[3]=d=>q(u)?u.value=d:null),name:"params",label:`Input ${a(_)==="GET"?"query":"body"}...`,rows:"5",placeholder:ke,onFocus:t[4]||(t[4]=d=>b.value=!0),onBlur:t[5]||(t[5]=d=>b.value=!1)},null,8,["modelValue","label"])]),_:1}),e(B,{focus:a(b),invalid:a(w),message:a(O),description:"json 形式で入力してください。"},null,8,["focus","invalid","message"]),e(c,{h:"40"}),e(F,{loading:a(f),disabled:a(S),w:"100%",onClick:G},{default:l(()=>t[6]||(t[6]=[I(" Request ")])),_:1},8,["loading","disabled"]),e(c,{h:"40"})])):v("",!0)]),_:1}),e(C,null,{default:l(()=>[a(n)&&!a(p)&&(a(i)||a(r))?(m(),h("div",$e,[e(c,{h:"48"}),a(i)?(m(),T(R,{key:0,title:"Response",lang:"json",code:JSON.stringify(a(i),null,4)},null,8,["code"])):v("",!0),a(r)?(m(),T(R,{key:1,title:"Error",lang:"json",code:JSON.stringify(a(r),null,4)},null,8,["code"])):v("",!0)])):v("",!0)]),_:1}),e(C,null,{default:l(()=>[a(n)?v("",!0):(m(),h("div",Ce,[e(c,{h:"28"}),e(W,{blank:"",to:"https://github.com/honoo-creators/honoo-technologies-ui/wiki/Fetch-Client"},{default:l(()=>[e(M,{justify:"end",align:"center",gap:"8",style:{opacity:".6"}},{default:l(()=>[e(x,{name:"question",size:"12"}),e($,{footnote:"",bold:""},{default:l(()=>t[7]||(t[7]=[I(' What is "Fetch Client" ? ')])),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1})])}}});export{Fe as default};
