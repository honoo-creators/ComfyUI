import{as as g,bb as Ne,bc as Ae,a8 as P,ac as ae,u as Ce,f as ne,aT as Oe,aj as f,ad as u,o as l,B as Ie,al as Pe,a6 as a,ax as w,z as se,a5 as r,x as re,k as $,av as m,l as e,aI as Q,h as We,aa as x,c as b,aU as X,az as oe,at as T,a1 as Le,G as Me,w as le,an as D,ao as ie,j as Be,_ as Ge,ar as Z,bd as je,aq as De,be as ze,ai as ce,aD as xe,g as Ue,au as ee,bf as Ve,A as He,a7 as Ke}from"./CMe4kum_.js";import{_ as Fe}from"./Zk5G2pmd.js";import{_ as Ye}from"./DkMgdTq5.js";import{_ as A}from"./CdBbm1OD.js";import{_ as qe}from"./B5RP3N75.js";import{_ as Je}from"./BghaDC5o.js";import{_ as j}from"./BPWoQN5R.js";import"./CLBSVRGc.js";const Qe=()=>({isEmpty:Xe,isObject:z,isEqual:ue}),Xe=o=>Object.keys(o).length===0&&o.constructor===Object,z=o=>{let i=o!==null&&typeof o=="object";return i&&Array.isArray(o)&&(i=!1),i},ue=(o,i)=>{if(!z(o)||!z(i))return o===i;const d=Object.keys(o),p=Object.keys(i);if(d.length!==p.length)return!1;for(const h of d)if(!p.includes(h)||!ue(o[h],i[h]))return!1;return!0},te=g(!1),de=g({}),I=g({}),fe=g({}),Ze=()=>({to:de,from:I,init:et,getScrollPosition:tt,isPrevRoute:at}),et=()=>{te.value||(te.value=!0,Ne().beforeEach((o,i,d)=>{fe.value[i.fullPath]=Number(Ae().scrollY),de.value=o,I.value=i,d()}))},tt=o=>fe.value[o]||0,at=()=>{let o=!1;return I.value&&(Qe().isEmpty(I.value)?o=!1:o=!0),o},nt={key:0,class:"headerWide-inner-centerLeftUI"},st={class:"headerWide-inner-center"},rt={key:0,class:"headerWide-inner-centerRightUI"},C=110,ot=P({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(o){const{isPureNumber:i}=De(),{replace:d,go:p}=ae(),{DEV:h,ROOT:v,dashboard:s}=b(),{loggedIn:k}=Ce(),{face:c}=ne(Oe()),t=o,U=g(0),W=g(0),L=g(0),M=g(0),N=g(0),O=g(0),B=g(0),_e=g(0),me=f(()=>N.value>0),pe=f(()=>{const y=C*2+Number(Z().getVariable("maxWidth","wide"))-480;return je().width.value<=y}),ge=f(()=>`calc(100% - ${Z().getSize(O.value+(B.value||N.value))})`),V=f(()=>{let n="";return!K.value&&t.back?n="back":n="logo",n}),he=f(()=>{const n=[];return t.back||t.avatar&&n.push("avatar"),n}),H=f(()=>{let n="";return t.title?n="title":t.back||t.globalMenu&&(n="globalMenu"),n}),K=f(()=>{let n="";return t.back&&(n="back"),n}),F=f(()=>{let n="";return me.value?n="button":t.menu?n="menu":t.close&&(n="close"),n}),be=f(()=>{let n="";return i(String(t.back))?parseInt(String(t.back))>0&&(n="go"):String(t.back)&&(n="replace"),n}),ve=f(()=>{let n="";return i(String(t.close))?parseInt(String(t.close))>0&&(n="go"):String(t.close)&&(n="replace"),n}),ke=()=>{if(Ze().isPrevRoute)switch(be.value){case"go":p(-1*parseInt(String(t.back)));break;case"replace":d(String(t.back));break}else d(s())},ye=()=>{switch(ve.value){case"go":p(-1*parseInt(String(t.close)));break;case"replace":d(String(t.close));break}},Y=()=>{typeof t.menu=="function"?t.menu():ze().open({name:"myMenu",from:"right"})};return(n,y)=>{const we=Fe,Ee=We,Se=Ye,E=re,S=Ie,G=Me,q=Le,Re=le,J=se,Te=Ge,$e=Be,R=oe("resize");return l(),u(S,{tag:"header",class:Pe(["headerWide",{_background:o.background}]),align:"center",nowrap:""},{default:a(()=>[w((l(),u(J,{class:"headerWide-inner",wide:""},{default:a(()=>[r(S,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[w((l(),u(E,{w:C,"min-w":C,mr:"auto"},{default:a(()=>[e(V)?(l(),$(Q,{key:0},[e(V)==="logo"?(l(),u(S,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[r(Ee,{to:("useRoute"in n?n.useRoute:e(x))().path===e(s)()?e(v):e(s)()},{default:a(()=>[r(we,{size:"32"})]),_:1},8,["to"]),r(E,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in n?n.useRuntimeConfig:e(X))().public.DEV_ENABLED&&("useRuntimeConfig"in n?n.useRuntimeConfig:e(X))().public.ENVIRONMENT==="local"?(l(),u(Se,{key:0,to:e(h),tertiary:"",w:"20",h:"20",icon:{name:"setting",size:12,color:"light"}},null,8,["to"])):m("",!0)]),_:1})]),_:1})):m("",!0)],64)):m("",!0)]),_:1})),[[R,_=>U.value=_.width]]),w((l(),u(E,{w:e(pe)?"60%":"100%",h:"100%"},{default:a(()=>[r(J,{fit:""},{default:a(()=>[r(E,{w:"100%",h:"100%",relative:""},{default:a(()=>[r(q,{x:"40"},{default:a(()=>[e(K)==="back"?(l(),$("div",nt,[w(r(G,{icon:"arrowLeft",size:"22",onClick:ke},null,512),[[R,_=>O.value=_.width]])])):m("",!0)]),_:1}),w((l(),u(E,{class:"headerWide-inner-centerLeftInfo","max-w":e(ge),h:"100%"},{default:a(()=>[r(S,{align:"center",nowrap:"",fit:""},{default:a(()=>y[0]||(y[0]=[T("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[R,_=>M.value=_.width]]),T("div",st,[e(H)==="title"?(l(),u(S,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[r(Re,{caption1:"",bold:"",center:""},{default:a(()=>[D(ie(t.title),1)]),_:1})]),_:1})):m("",!0),r(E,{h:e(H)?"0":"100%"},{default:a(()=>[r(S,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>y[1]||(y[1]=[T("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),r(q,{x:"40"},{default:a(()=>[e(F)==="menu"?(l(),$("div",rt,[w(r(G,{icon:"menu",size:"22",onClick:Y},null,512),[[R,_=>B.value=_.width+(o.menuNotice?16:0)]]),o.menuNotice?(l(),u(E,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):m("",!0)])):m("",!0),e(F)==="close"?w((l(),u(G,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:ye},null,512)),[[R,_=>B.value=_.width]]):m("",!0)]),_:1}),w((l(),u(E,{class:"headerWide-centerRight"},{default:a(()=>[r(S,{justify:"end",align:"center",fit:""},{default:a(()=>y[2]||(y[2]=[T("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[R,_=>N.value=_.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[R,_=>W.value=_.width]]),w((l(),u(E,{w:C,"min-w":C,ml:"auto"},{default:a(()=>[r(S,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[r(S,{justify:"end",align:"center",fit:""},{default:a(()=>y[3]||(y[3]=[T("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),e(he).includes("avatar")?(l(),$(Q,{key:0},[e(k)?(l(),u($e,{key:0,onClick:Y},{default:a(()=>[r(Te,{src:e(c),size:"28"},null,8,["src"])]),_:1})):m("",!0)],64)):m("",!0)]),_:1})]),_:1})),[[R,_=>L.value=_.width]])]),_:1})]),_:1})),[[R,_=>_e.value=_.width]])]),_:1},8,["class"])}}}),lt={class:"lookStyleSetting"},it={class:"lookStyleSetting-image"},ct={class:"lookStyleSetting-name"},ut=P({__name:"LookStyleSetting",props:{fit:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup(o){const i=o,d=f(()=>i.data.name),p=f(()=>i.data.id);return(h,v)=>{const s=le,k=xe;return l(),$("div",lt,[r(s,{class:"lookStyleSetting-label",footnote:"",bold:"",unselectable:"",color:"light"},{default:a(()=>v[0]||(v[0]=[D(" ルックスタイル ")])),_:1}),T("div",it,[r(qe,ce({id:e(p)},{cover:""}),null,16)]),T("div",ct,[r(k,null,{default:a(()=>[r(s,{title3:"",extrabold:"",center:"",unselectable:"","line-height":"1",color:"light"},{default:a(()=>[D(ie(e(d)),1)]),_:1})]),_:1})])])}}}),dt={class:"generateSettingList"},ft=P({__name:"GenerateSettingList",setup(o){const{lookStyle:i,base64:d,promptScene:p,promptMood:h,promptLighting:v}=ne(Ue()),s=g(0);return ee(()=>s.value,k=>{let c="";switch(k){case 0:c=b().GENERATE_LOOKSTYLE;break;case 1:c=b().GENERATE_UPLOAD;break;case 2:c=b().GENERATE_PROMPT_SCENE;break;case 3:c=b().GENERATE_PROMPT_MOOD;break;case 4:c=b().GENERATE_PROMPT_LIGHTING;break}ae().push(c)}),ee(()=>x().path,k=>{switch(k){case b().GENERATE_LOOKSTYLE:s.value=0;break;case b().GENERATE_UPLOAD:s.value=1;break;case b().GENERATE_PROMPT_SCENE:s.value=2;break;case b().GENERATE_PROMPT_MOOD:s.value=3;break;case b().GENERATE_PROMPT_LIGHTING:s.value=4;break}}),(k,c)=>(l(),$("div",dt,[r(A,{name:"ルックスタイル",icon:{name:"colorSwatch",size:24},current:e(s)===0,"is-set":e(i)!==null,onClick:c[0]||(c[0]=t=>s.value=0)},{default:a(()=>[e(i)!==null?(l(),u(ut,{key:0,data:e(i),fit:""},null,8,["data"])):m("",!0)]),_:1},8,["current","is-set"]),r(A,{name:"原図データ",icon:"photograph",current:e(s)===1,"is-set":e(d)!=="",disabled:!e(i),onClick:c[1]||(c[1]=t=>s.value=1)},{default:a(()=>[e(d)!==""?(l(),u(Je,{key:0,data:e(d),fit:""},null,8,["data"])):m("",!0)]),_:1},8,["current","is-set","disabled"]),r(A,{name:"シーン構成",icon:"edit",current:e(s)===2,"is-set":Array.isArray(e(p)),disabled:!e(d),onClick:c[2]||(c[2]=t=>s.value=2)},{default:a(()=>[Array.isArray(e(p))?(l(),u(j,{key:0,name:"シーン構成",data:e(p)},null,8,["data"])):m("",!0)]),_:1},8,["current","is-set","disabled"]),r(A,{name:"色調・ムード",icon:"edit",current:e(s)===3,"is-set":Array.isArray(e(h)),disabled:e(p)===null,onClick:c[3]||(c[3]=t=>s.value=3)},{default:a(()=>[Array.isArray(e(h))?(l(),u(j,{key:0,name:"色調・ムード",data:e(h)},null,8,["data"])):m("",!0)]),_:1},8,["current","is-set","disabled"]),r(A,{name:"ライティング",icon:"edit",current:e(s)===4,"is-set":Array.isArray(e(v)),disabled:e(h)===null,onClick:c[4]||(c[4]=t=>s.value=4)},{default:a(()=>[Array.isArray(e(v))?(l(),u(j,{key:0,name:"ライティング",data:e(v)},null,8,["data"])):m("",!0)]),_:1},8,["current","is-set","disabled"])]))}}),_t={class:"layoutDefault"},wt=P({__name:"default",setup(o){const{above:i}=Ve(),d=g(0),p=f(()=>x().meta.page),h=f(()=>{var t;return((t=p.value)==null?void 0:t.type)||""}),v=f(()=>{var t;return((t=p.value)==null?void 0:t.isGenerateSetting)||!1}),s=f(()=>{var t;return((t=p.value)==null?void 0:t.header)||{}}),k=f(()=>s.value.title||s.value.back||s.value.close||s.value.logo||s.value.menu),c=f(()=>d.value+40);return(t,U)=>{const W=se,L=re,M=He,N=oe("resize");return l(),$("div",_t,[w((l(),u(L,{class:"layoutDefault-header"},{default:a(()=>[e(k)?(l(),u(ot,ce({key:0},e(s),{background:!1}),null,16)):m("",!0),e(v)?(l(),u(W,{key:1,class:"layoutDefault-header-generateSetting",wide:"","no-padding":e(i)("l")},{default:a(()=>[r(ft)]),_:1},8,["no-padding"])):m("",!0)]),_:1})),[[N,O=>d.value=O.height]]),r(M,{class:"layoutDefault-page","top-space":e(c),center:e(h)==="center","bottom-space":"80"},{default:a(()=>[Ke(t.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{wt as default};
