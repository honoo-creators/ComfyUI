import{ac as G,l as fe,h as me,n as pe,b4 as _e,ai as g,aj as l,ad as r,o as s,J as ge,aK as he,w as a,av as f,H as J,a as o,F as K,c as W,ak as c,u as n,aw as H,t as ve,ag as q,m as be,aF as O,au as Q,ar as w,a8 as ke,N as we,E as ye,d as We,ax as Re,v as Se,r as Ce,a$ as A,bi as Ie,a_ as $e,bj as Be,e as Ne,bk as ze,I as Me,ao as Te,ab as De}from"./Di5F4Duh.js";import{_ as Le}from"./CG4abS_h.js";import{_ as Ue}from"./C1nhv4hw.js";import{_ as Ee}from"./C7XXNDWl.js";import"./BaDPSJUX.js";import"./BzOAd-Sm.js";import"./DNuPqnKP.js";import"./CfVZvY8q.js";import"./ChMFajBe.js";import"./cnbwnrqK.js";const Ve={key:0,class:"headerWide-inner-centerLeftUI"},je={class:"headerWide-inner-center"},xe={key:0,class:"headerWide-inner-centerRightUI"},y=110,Pe=G({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(b){const{isPureNumber:R}=$e(),{replace:h,go:v}=fe(),{DEV:C,ROOT:I,dashboard:u}=be(),{loggedIn:$}=me(),{face:B}=pe(_e()),t=b,L=g(0),N=g(0),z=g(0),M=g(0),k=g(0),S=g(0),T=g(0),X=g(0),Y=l(()=>k.value>0),Z=l(()=>{const d=y*2+Number(A().getVariable("maxWidth","wide"))-480;return Ie().width.value<=d}),ee=l(()=>`calc(100% - ${A().getSize(S.value+(T.value||k.value))})`),U=l(()=>{let e="";return!V.value&&t.back?e="back":e="logo",e}),te=l(()=>{const e=[];return t.back||t.avatar&&e.push("avatar"),e}),E=l(()=>{let e="";return t.title?e="title":t.back||t.globalMenu&&(e="globalMenu"),e}),V=l(()=>{let e="";return t.back&&(e="back"),e}),j=l(()=>{let e="";return Y.value?e="button":t.menu?e="menu":t.close&&(e="close"),e}),ae=l(()=>{let e="";return R(String(t.back))?parseInt(String(t.back))>0&&(e="go"):String(t.back)&&(e="replace"),e}),ne=l(()=>{let e="";return R(String(t.close))?parseInt(String(t.close))>0&&(e="go"):String(t.close)&&(e="replace"),e}),se=()=>{if(Be().isPrevRoute)switch(ae.value){case"go":v(-1*parseInt(String(t.back)));break;case"replace":h(String(t.back));break}else h(u())},oe=()=>{switch(ne.value){case"go":v(-1*parseInt(String(t.close)));break;case"replace":h(String(t.close));break}},x=()=>{typeof t.menu=="function"?t.menu():Ne().open({name:"myMenu",from:"right"})};return(e,d)=>{const ie=Le,re=ve,le=Ue,m=K,p=ge,D=we,P=ke,ce=ye,F=J,ue=Ce,de=Se,_=Q("resize");return s(),r(p,{tag:"header",class:he(["headerWide",{_background:b.background}]),align:"center",nowrap:""},{default:a(()=>[f((s(),r(F,{class:"headerWide-inner",wide:""},{default:a(()=>[o(p,{justify:"between",align:"center",nowrap:"",fit:""},{default:a(()=>[f((s(),r(m,{w:y,"min-w":y,mr:"auto"},{default:a(()=>[n(U)?(s(),W(H,{key:0},[n(U)==="logo"?(s(),r(p,{key:0,align:"center",gap:"12",nowrap:""},{default:a(()=>[o(re,{to:("useRoute"in e?e.useRoute:n(q))().path===n(u)()?n(I):n(u)()},{default:a(()=>[o(ie,{size:"32"})]),_:1},8,["to"]),o(m,{"min-w":"20","min-h":"20"},{default:a(()=>[("useRuntimeConfig"in e?e.useRuntimeConfig:n(O))().public.DEV_ENABLED&&("useRuntimeConfig"in e?e.useRuntimeConfig:n(O))().public.ENVIRONMENT==="local"?(s(),r(le,{key:0,to:n(C),tertiary:"",w:"20",h:"20",icon:{name:"setting",size:12,color:"light"}},null,8,["to"])):c("",!0)]),_:1})]),_:1})):c("",!0)],64)):c("",!0)]),_:1})),[[_,i=>L.value=i.width]]),f((s(),r(m,{w:n(Z)?"60%":"100%",h:"100%"},{default:a(()=>[o(F,{fit:""},{default:a(()=>[o(m,{w:"100%",h:"100%",relative:""},{default:a(()=>[o(P,{x:"40"},{default:a(()=>[n(V)==="back"?(s(),W("div",Ve,[f(o(D,{icon:"arrowLeft",size:"22",onClick:se},null,512),[[_,i=>S.value=i.width]])])):c("",!0)]),_:1}),f((s(),r(m,{class:"headerWide-inner-centerLeftInfo","max-w":n(ee),h:"100%"},{default:a(()=>[o(p,{align:"center",nowrap:"",fit:""},{default:a(()=>d[0]||(d[0]=[w("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[_,i=>M.value=i.width]]),w("div",je,[n(E)==="title"?(s(),r(p,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>[o(ce,{caption1:"",bold:"",center:""},{default:a(()=>[We(Re(t.title),1)]),_:1})]),_:1})):c("",!0),o(m,{h:n(E)?"0":"100%"},{default:a(()=>[o(p,{justify:"center",align:"center",nowrap:"",fit:""},{default:a(()=>d[1]||(d[1]=[w("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),o(P,{x:"40"},{default:a(()=>[n(j)==="menu"?(s(),W("div",xe,[f(o(D,{icon:"menu",size:"22",onClick:x},null,512),[[_,i=>T.value=i.width+(b.menuNotice?16:0)]]),b.menuNotice?(s(),r(m,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):c("",!0)])):c("",!0),n(j)==="close"?f((s(),r(D,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:oe},null,512)),[[_,i=>T.value=i.width]]):c("",!0)]),_:1}),f((s(),r(m,{class:"headerWide-centerRight"},{default:a(()=>[o(p,{justify:"end",align:"center",fit:""},{default:a(()=>d[2]||(d[2]=[w("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[_,i=>k.value=i.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[_,i=>N.value=i.width]]),f((s(),r(m,{w:y,"min-w":y,ml:"auto"},{default:a(()=>[o(p,{justify:"end",align:"center",gap:"40",nowrap:""},{default:a(()=>[o(p,{justify:"end",align:"center",fit:""},{default:a(()=>d[3]||(d[3]=[w("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),n(te).includes("avatar")?(s(),W(H,{key:0},[n($)?(s(),r(de,{key:0,onClick:x},{default:a(()=>[o(ue,{src:n(B),size:"28"},null,8,["src"])]),_:1})):c("",!0)],64)):c("",!0)]),_:1})]),_:1})),[[_,i=>z.value=i.width]])]),_:1})]),_:1})),[[_,i=>X.value=i.width]])]),_:1},8,["class"])}}}),Fe={class:"layoutDefault"},Ze=G({__name:"default",setup(b){const{above:R}=ze(),h=g(0),v=l(()=>q().meta.page),C=l(()=>{var t;return((t=v.value)==null?void 0:t.type)||""}),I=l(()=>{var t;return((t=v.value)==null?void 0:t.isGenerateSetting)||!1}),u=l(()=>{var t;return((t=v.value)==null?void 0:t.header)||{}}),$=l(()=>u.value.title||u.value.back||u.value.close||u.value.logo||u.value.menu),B=l(()=>h.value+40);return(t,L)=>{const N=J,z=K,M=Me,k=Q("resize");return s(),W("div",Fe,[f((s(),r(z,{class:"layoutDefault-header"},{default:a(()=>[n($)?(s(),r(Pe,Te({key:0},n(u),{background:!1}),null,16)):c("",!0),n(I)?(s(),r(N,{key:1,class:"layoutDefault-header-generateSetting",wide:"","no-padding":n(R)("l")},{default:a(()=>[o(Ee)]),_:1},8,["no-padding"])):c("",!0)]),_:1})),[[k,S=>h.value=S.height]]),o(M,{class:"layoutDefault-page","top-space":n(B),center:n(C)==="center","bottom-space":"80"},{default:a(()=>[De(t.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{Ze as default};
