import{d as O,e as ue,b as de,ar as fe,as as _e,x as g,h as c,y as G,f as o,i as r,w as t,j as f,z as s,Y as n,g as R,$ as A,l as u,F as H,k as W,A as me,B as pe,aI as ge,p as he,c as ve,aV as be,ab as ke,H as we,D as ye,a2 as We,E as Q,t as Se,aW as Re,T as Ie,_ as Ce,V as X,av as $e,aN as F,aX as Be,aO as Ne,m as ze,r as Me,at as Te,a4 as De,u as Ve}from"./CrK6v5fJ.js";import{_ as xe}from"./Q32Dq_NU.js";import{_ as Le}from"./CazeJ9I3.js";import"./BWhITg0J.js";import"./3UOC7Zea.js";import"./tk67cHxc.js";import"./CRpUYKzS.js";import"./BEn-s_eW.js";import"./DjW3Z0_V.js";import"./DqU5MqFc.js";const Ue={key:0,class:"headerWide-inner-centerLeftUI"},Ee={class:"headerWide-inner-center"},je={key:0,class:"headerWide-inner-centerRightUI"},S=110,Pe=O({__name:"HeaderWide",props:{back:{type:[String,Number],default:1},close:{type:[String,Number],default:1},title:{type:String,default:""},logo:{type:Boolean,default:!1},globalMenu:{type:Boolean,default:!1},menu:{type:[Boolean,Function],default:!1},menuNotice:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},setup(k){const{isPureNumber:I}=Ne(),{replace:v,go:b}=ue(),{DEV:B,dashboard:C}=ve(),{loggedIn:h}=de(),{face:N}=fe(_e()),a=k,l=g(0),D=g(0),z=g(0),M=g(0),w=g(0),$=g(0),y=g(0),Y=g(0),q=c(()=>w.value>0),J=c(()=>{const d=S*2+Number(F().getVariable("maxWidth","wide"))-480;return Be().width.value<=d}),K=c(()=>`calc(100% - ${F().getSize($.value+(y.value||w.value))})`),V=c(()=>{let e="";return!L.value&&a.back?e="back":e="logo",e}),Z=c(()=>{const e=[];return a.back||a.avatar&&e.push("avatar"),e}),x=c(()=>{let e="";return a.title?e="title":a.back||a.globalMenu&&(e="globalMenu"),e}),L=c(()=>{let e="";return a.back&&(e="back"),e}),U=c(()=>{let e="";return q.value?e="button":a.menu?e="menu":a.close&&(e="close"),e}),ee=c(()=>{let e="";return I(String(a.back))?parseInt(String(a.back))>0&&(e="go"):String(a.back)&&(e="replace"),e}),te=c(()=>{let e="";return I(String(a.close))?parseInt(String(a.close))>0&&(e="go"):String(a.close)&&(e="replace"),e}),ae=()=>{if(be().isPrevRoute)switch(ee.value){case"go":b(-1*parseInt(String(a.back)));break;case"replace":v(String(a.back));break}else v(C())},ne=()=>{switch(te.value){case"go":b(-1*parseInt(String(a.close)));break;case"replace":v(String(a.close));break}},E=()=>{typeof a.menu=="function"?a.menu():ke().open({name:"myMenu",from:"right"})};return(e,d)=>{const se=xe,oe=we,ie=ye,re=We,_=Q,m=Se,T=Re,j=Ie,ce=Ce,P=X,le=$e,p=G("resize");return o(),r(m,{tag:"header",class:he(["headerWide",{_background:k.background}]),align:"center",nowrap:""},{default:t(()=>[f((o(),r(P,{class:"headerWide-inner",wide:""},{default:t(()=>[s(m,{justify:"between",align:"center",nowrap:"",fit:""},{default:t(()=>[f((o(),r(_,{w:S,"min-w":S,mr:"auto"},{default:t(()=>[n(V)?(o(),R(H,{key:0},[n(V)==="logo"?(o(),r(m,{key:0,align:"center",gap:"12",nowrap:""},{default:t(()=>[s(oe,{to:n(C)()},{default:t(()=>[s(se,{size:"32"})]),_:1},8,["to"]),s(_,{"min-w":"20","min-h":"20"},{default:t(()=>[("useRuntimeConfig"in e?e.useRuntimeConfig:n(A))().public.DEV_ENABLED&&("useRuntimeConfig"in e?e.useRuntimeConfig:n(A))().public.ENVIRONMENT==="local"?(o(),r(re,{key:0,to:n(B),secondary:"",w:"20",h:"20"},{default:t(()=>[s(ie,{name:"setting",size:"12",color:"light"})]),_:1},8,["to"])):u("",!0)]),_:1})]),_:1})):u("",!0)],64)):u("",!0)]),_:1})),[[p,i=>l.value=i.width]]),f((o(),r(_,{w:n(J)?"60%":"100%",h:"100%"},{default:t(()=>[s(P,{fit:""},{default:t(()=>[s(_,{w:"100%",h:"100%",relative:""},{default:t(()=>[s(j,{x:"40"},{default:t(()=>[n(L)==="back"?(o(),R("div",Ue,[f(s(T,{icon:"arrowLeft",size:"22",onClick:ae},null,512),[[p,i=>$.value=i.width]])])):u("",!0)]),_:1}),f((o(),r(_,{class:"headerWide-inner-centerLeftInfo","max-w":n(K),h:"100%"},{default:t(()=>[s(m,{align:"center",nowrap:"",fit:""},{default:t(()=>d[0]||(d[0]=[W("div",{id:"headerWideLeft"},null,-1)])),_:1})]),_:1},8,["max-w"])),[[p,i=>M.value=i.width]]),W("div",Ee,[n(x)==="title"?(o(),r(m,{key:0,justify:"center",align:"center",nowrap:"",fit:""},{default:t(()=>[s(ce,{caption1:"",bold:"",center:""},{default:t(()=>[me(pe(a.title),1)]),_:1})]),_:1})):u("",!0),s(_,{h:n(x)?"0":"100%"},{default:t(()=>[s(m,{justify:"center",align:"center",nowrap:"",fit:""},{default:t(()=>d[1]||(d[1]=[W("div",{id:"headerWideCenter"},null,-1)])),_:1})]),_:1},8,["h"])]),s(j,{x:"40"},{default:t(()=>[n(U)==="menu"?(o(),R("div",je,[f(s(T,{icon:"menu",size:"22",onClick:E},null,512),[[p,i=>y.value=i.width+(k.menuNotice?16:0)]]),k.menuNotice?(o(),r(_,{key:0,r:"circle",color:"primary",w:"6",h:"6",absolute:"",bottom:"46%",left:"8%"})):u("",!0)])):u("",!0),n(U)==="close"?f((o(),r(T,{key:1,class:"headerWide-inner-centerRightUI",icon:"cross",size:"22",onClick:ne},null,512)),[[p,i=>y.value=i.width]]):u("",!0)]),_:1}),f((o(),r(_,{class:"headerWide-centerRight"},{default:t(()=>[s(m,{justify:"end",align:"center",fit:""},{default:t(()=>d[2]||(d[2]=[W("div",{id:"headerWideRight"},null,-1)])),_:1})]),_:1})),[[p,i=>w.value=i.width]])]),_:1})]),_:1})]),_:1},8,["w"])),[[p,i=>D.value=i.width]]),f((o(),r(_,{w:S,"min-w":S,ml:"auto"},{default:t(()=>[s(m,{justify:"end",align:"center",gap:"40",nowrap:""},{default:t(()=>[s(m,{justify:"end",align:"center",fit:""},{default:t(()=>d[3]||(d[3]=[W("div",{id:"headerWideRightEnd"},null,-1)])),_:1}),n(Z).includes("avatar")?(o(),R(H,{key:0},[n(h)?(o(),r(ge,{key:0,onClick:E},{default:t(()=>[s(le,{src:n(N),size:"28"},null,8,["src"])]),_:1})):u("",!0)],64)):u("",!0)]),_:1})]),_:1})),[[p,i=>z.value=i.width]])]),_:1})]),_:1})),[[p,i=>Y.value=i.width]])]),_:1},8,["class"])}}}),Ae={class:"layoutDefault"},Ze=O({__name:"default",setup(k){const{isScreenSizeAbove:I}=Te(),v=g(0),b=c(()=>Ve().meta.page),B=c(()=>{var l;return((l=b.value)==null?void 0:l.type)||""}),C=c(()=>{var l;return((l=b.value)==null?void 0:l.isGenerateSetting)||!1}),h=c(()=>{var l;return((l=b.value)==null?void 0:l.header)||{}}),N=c(()=>h.value.title||h.value.back||h.value.close||h.value.logo||h.value.menu),a=c(()=>v.value+40);return(l,D)=>{const z=X,M=Q,w=De,$=G("resize");return o(),R("div",Ae,[f((o(),r(M,{class:"layoutDefault-header",pb:"12"},{default:t(()=>[n(N)?(o(),r(Pe,ze({key:0},n(h),{background:!1}),null,16)):u("",!0),n(C)?(o(),r(z,{key:1,wide:"","no-padding":n(I)("l")},{default:t(()=>[s(Le)]),_:1},8,["no-padding"])):u("",!0)]),_:1})),[[$,y=>v.value=y.height]]),s(w,{class:"layoutDefault-page","top-space":n(a),center:n(B)==="center","bottom-space":"80"},{default:t(()=>[Me(l.$slots,"default")]),_:3},8,["top-space","center"])])}}});export{Ze as default};
