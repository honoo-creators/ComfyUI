import{_ as f}from"./Z7IVsS_Z.js";import{av as l,r as i,Q as d,R as p,aw as v,ax as m,ay as h,az as _,aA as g,d as w,c as I,o as k,n as x,b as y,aB as z,e as r,f as c,g as C,h as U,i as A,j as B,k as H}from"./QWLheGxm.js";import{u as T}from"./D2vpUSql.js";function b(s,e={}){const a=e.head||l();if(a)return a.ssr?a.push(s,e):j(a,s,e)}function j(s,e,a={}){const t=i(!1),o=i({});d(()=>{o.value=t.value?{}:_(e)});const n=s.push(o.value,a);return p(o,u=>{n.patch(u)}),g()&&(v(()=>{n.dispose()}),m(()=>{t.value=!0}),h(()=>{t.value=!1})),n}const E={class:"pageInit"},D=w({__name:"init",setup(s){const e=i(!1),a=I(()=>H().design.page.spinner.size);return k(async()=>{if(!e.value)return e.value=!0,await x(),y().loggedIn.value?(await T().checkInit(),await z().wait(1e3),b({link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}]}),r(c().dashboard())):r(c().ROOT)}),(t,o)=>{const n=f;return C(),U("div",E,[A(n,{size:B(a)},null,8,["size"])])}}});export{D as default};
