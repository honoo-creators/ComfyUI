import{_ as r}from"./Z7IVsS_Z.js";import{d as i,c as u,o as c,b as s,f as o,a as l,aB as p,aj as f,C as a,ai as d,s as _,g as m,h as g,i as h,j as C,k as w}from"./QWLheGxm.js";const E={class:"pageLogout"},R=i({__name:"logout",setup(O){const t=u(()=>w().design.page.spinner.size);return c(async()=>{if(!s().loggedIn.value){location.href=o().ROOT;return}try{await l().auth.logout(),await s().logout(),await p().wait(500),location.href=o().ROOT}catch(e){if(e instanceof f)e.code===a.AuthorizationRequired?location.href=o().ROOT:await d().error(e);else return _({statusCode:Number(a.UnknownError),statusMessage:"ログアウトに失敗しました。"})}}),(e,z)=>{const n=r;return m(),g("div",E,[h(n,{size:C(t)},null,8,["size"])])}}});export{R as default};
